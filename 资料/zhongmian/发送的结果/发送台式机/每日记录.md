# --重要的需要记录的信息======重要的需要记录的信息==（按 F2 跳转到标签的地方）=====我应该能拿下来

年轻的心，要有勇气过自己想要的生活【生活】“没有意义的事情，一定不会做；正在做的事情背后，一定有一个意义存在。喜怒哀乐，细水长流。

mysql数据库
172.16.26.12
root
netpolice0810

# 公司共享文件夹
\\172.16.26.50\axure 
iis_guest
LKJHSd657r0345%^S7

# 公司有线网络
IP: 172.16.28.***
子网掩码： 255.255.255.0
网关： 172.16.28.254


# 爬虫-微信-工作账号
18084661176
zxd661176

# 公司wifi
http://192.168.5.1/
S:leadsec1_5G;
P:18608905550


# 需求一生：
需求方(产品经理、技术人员、运营人员) => 需求 => 项目经理 => 关联需求 => 项目经理把需求分配为主任务指派给研发 => 研发分解子任务 => 设计方案、研发 => 测试人员进入 => 运维人员发版 => 产品经理进入验收 => 运维人员发布上线

#禅道：
http://172.16.26.37/
wuguanyu
IS&^534454

# 社戒网址：
https://172.16.26.98:55000/
吴冠禹
Daniel12


{
	"g_ch_key": 111,
	"text": "C罗是球技很厉害， 很好， 是一个伟大的巨星。 "

}

IDEA 使用技巧
https://www.imooc.com/learn/924

# kafka
kafka cluster version:0.11
zookeeper Host: 172.16.26.43:2181

## kafka 集群：
172.16.26.43:9091,172.16.26.43:9092,172.16.26.43:9093

## topic
> 主体消息
zxd-collection-data
> 评论消息
zxd-collection-comment


# 心境升华：
1.去掉焦虑，专注问题，激情解决！


# 常用命令
activate myspider_py37
activate tensorflow_py35

cd D:\Daniel\work\code\code_for_fun\daniel_for_fun\captain_wu && Jupyter Notebook


# 公司ip

172.16.26.20

172.16.26.12   #黑龙江项目的服务器

153.0.168.844 #公司防火墙？

#业务中台
http://172.16.26.45:90/examination/approve/approveAll

#公司xwiki
http://172.16.26.39:8080/xwiki/bin/view/XWiki/dahdirag
657784988@qq.com
wuguanyu


#teamview自己的台式机
1216410894
da


1726004640
da

#vpn
wgy2020  wgy@2020

# --重要的需要记录的信息======重要的需要记录的信息

# 爬虫未来精进的地方

1.能处理大规模网站（设想如果你想抓取1000网站的黑名单你会怎么做）
2.能处理大数据量（每天抓取1千万个网页，数据库如何设计）
3.能否可视化展示数据
4.能否可能可视化爬虫运行情况


爬虫工程师的生存空间
1.精通破解网站，app
2.高并发 分布式 一个高并发就够你学的。
js解释器


1.防采集原理（验证码，多IP等）

2.html前端解析知识

3.分布式解决方案

4.正则表达式匹配



投资分析
香港金融、房地产、贸易、旅游业迅速发展


服务业包括以下bai行业：

1、商业服务du，指在商业活动zhi中涉及的服务交换活动，包括专业服务、计算机及dao其有关服务、研究与开发服务、房地产服务、无经纪人介入的租赁服务及其他的商业服务，如广告服务等。
2、通信服务，包括邮政服务、快件服务、电讯服务、视听服务。
3、建筑及有关工程服务，包括建筑物的一般建筑工作、安装与装配工作、建筑物的完善与装饰工作等。
4、销售服务，包括代理机构的服务、批发贸易服务、零售服务、特约代理服务及其他销售服务。
5、教育服务，包括初等教育服务、中等教育服务、高等教育服务、成人教育服务及其他教育服务。
6、环境服务，包括污水处理服务、废物处理服务、卫生及其相关服务、其他的环境服务。
7、金融服务，包括保险及与保险有关的服务、银行及其他金融服务（保险除外）。
8、健康与社会服务，包括医院服务、其他人类健康服务、社会服务及其他健康与社会服务。
9、与旅游有关的服务，包括宾馆与饭店、旅行社及旅游经纪人服务社、导游服务等。
10、娱乐、文化与体育服务，包括娱乐服务、新闻机构的服务、图书馆、档案馆、博物馆及其他文化服务、体育及其他娱乐服务。
11、运输服务，包括海运服务、内河航运服务、空运服务、空间运输、铁路运输服务、公路运输服务、管道运输服务及所有运输方式的辅助性服务。










电脑：
1.anaconda
2.spider
3.有道
4.pycharm






2.手机：
钉钉



3.电脑管理：
杀毒软件换为火绒







===20200425
hanlp+fastapi

实现的功能：
分词
自动摘要
关键词提取
情感分析
文本分类（聚类）
热点发现



存在的问题：
1.数据格式（怎么进，怎么出）




工作思路：
1.先用hanlp实现以下6大功能：
分词
自动摘要
关键词提取
情感分析
文本分类（聚类）
热点发现

2.搭建fastapi ，实现网络请求和响应的功能

3.部署到docker上



hanlp segment






PKU_NAME_MERGED_SIX_MONTHS_CONVSEG


>>> print(hanlp.pretrained.ALL)
{'SIGHAN2005_PKU_CONVSEG': 'https://file.hankcs.com/hanlp/cws/sighan2005-pku-convseg_20200110_153722.zip', 'SIGHAN2005_MSR_CONVSEG': 'https://file.hankcs.com/hanlp/cws/convseg-msr-nocrf-noembed_20200110_153524.zip', 'CTB6_CONVSEG': 'https://file.hankcs.com/hanlp/cws/ctb6_convseg_nowe_nocrf_20200110_004046.zip', 'PKU_NAME_MERGED_SIX_MONTHS_CONVSEG': 'https://file.hankcs.com/hanlp/cws/pku98_6m_conv_ngram_20200110_134736.zip', 'CTB5_BIAFFINE_DEP_ZH': 'https://file.hankcs.com/hanlp/dep/biaffine_ctb5_20191229_025833.zip', 'CTB7_BIAFFINE_DEP_ZH': 'https://file.hankcs.com/hanlp/dep/biaffine_ctb7_20200109_022431.zip', 'PTB_BIAFFINE_DEP_EN': 'https://file.hankcs.com/hanlp/dep/ptb_dep_biaffine_20200101_174624.zip', 'SEMEVAL16_NEWS_BIAFFINE_ZH': 'https://file.hankcs.com/hanlp/sdp/semeval16-news-biaffine_20191231_235407.zip', 'SEMEVAL16_TEXT_BIAFFINE_ZH': 'https://file.hankcs.com/hanlp/sdp/semeval16-text-biaffine_20200101_002257.zip', 'SEMEVAL15_PAS_BIAFFINE_EN': 'https://file.hankcs.com/hanlp/sdp/semeval15_biaffine_pas_20200103_152405.zip', 'SEMEVAL15_PSD_BIAFFINE_EN': 'https://file.hankcs.com/hanlp/sdp/semeval15_biaffine_psd_20200106_123009.zip', 'SEMEVAL15_DM_BIAFFINE_EN': 'https://file.hankcs.com/hanlp/sdp/semeval15_biaffine_dm_20200106_122808.zip', 'GLOVE_6B_ROOT': 'http://downloads.cs.stanford.edu/nlp/data/glove.6B.zip', 'GLOVE_6B_50D': 'http://downloads.cs.stanford.edu/nlp/data/glove.6B.zip#glove.6B.50d.txt', 'GLOVE_6B_100D': 'http://downloads.cs.stanford.edu/nlp/data/glove.6B.zip#glove.6B.100d.txt', 'GLOVE_6B_200D': 'http://downloads.cs.stanford.edu/nlp/data/glove.6B.zip#glove.6B.200d.txt', 'GLOVE_6B_300D': 'http://downloads.cs.stanford.edu/nlp/data/glove.6B.zip#glove.6B.300d.txt', 'GLOVE_840B_300D': 'http://nlp.stanford.edu/data/glove.840B.300d.zip', 'CTB5_POS_RNN': 'https://file.hankcs.com/hanlp/pos/ctb5_pos_rnn_20200113_235925.zip', 'CTB5_POS_RNN_FASTTEXT_ZH': 'https://file.hankcs.com/hanlp/pos/ctb5_pos_rnn_fasttext_20191230_202639.zip', 'PTB_POS_RNN_FASTTEXT_EN': 'https://file.hankcs.com/hanlp/pos/ptb_pos_rnn_fasttext_20200103_145337.zip', 'FLAIR_LM_FW_WMT11_EN': 'https://file.hankcs.com/hanlp/lm/flair_lm_wmt11_en_20200211_091932.zip#flair_lm_fw_wmt11_en', 'FLAIR_LM_BW_WMT11_EN': 'https://file.hankcs.com/hanlp/lm/flair_lm_wmt11_en_20200211_091932.zip#flair_lm_bw_wmt11_en', 'CONVSEG_W2V_NEWS_TENSITE': 'https://file.hankcs.com/hanlp/embeddings/convseg_embeddings.zip', 'CONVSEG_W2V_NEWS_TENSITE_WORD_PKU': 'https://file.hankcs.com/hanlp/embeddings/convseg_embeddings.zip#news_tensite.pku.words.w2v50', 'CONVSEG_W2V_NEWS_TENSITE_WORD_MSR': 'https://file.hankcs.com/hanlp/embeddings/convseg_embeddings.zip#news_tensite.msr.words.w2v50', 'CONVSEG_W2V_NEWS_TENSITE_CHAR': 'https://file.hankcs.com/hanlp/embeddings/convseg_embeddings.zip#news_tensite.w2v200', 'SEMEVAL16_EMBEDDINGS_CN': 'https://file.hankcs.com/hanlp/embeddings/semeval16_embeddings.zip', 'SEMEVAL16_EMBEDDINGS_300_NEWS_CN': 'https://file.hankcs.com/hanlp/embeddings/semeval16_embeddings.zip#news.fasttext.300.txt', 'SEMEVAL16_EMBEDDINGS_300_TEXT_CN': 'https://file.hankcs.com/hanlp/embeddings/semeval16_embeddings.zip#text.fasttext.300.txt', 'CTB5_FASTTEXT_300_CN': 'https://file.hankcs.com/hanlp/embeddings/ctb.fasttext.300.txt.zip', 'TENCENT_AI_LAB_EMBEDDING': 'https://ai.tencent.com/ailab/nlp/data/Tencent_AILab_ChineseEmbedding.tar.gz#Tencent_AILab_ChineseEmbedding.txt', 'RADICAL_CHAR_EMBEDDING_100': 'https://file.hankcs.com/hanlp/embeddings/radical_char_vec_20191229_013849.zip#character.vec.txt', 'MSRA_NER_BERT_BASE_ZH': 'https://file.hankcs.com/hanlp/ner/ner_bert_base_msra_20200104_185735.zip', 'MSRA_NER_ALBERT_BASE_ZH': 'https://file.hankcs.com/hanlp/ner/ner_albert_base_zh_msra_20200111_202919.zip', 'CONLL03_NER_BERT_BASE_UNCASED_EN': 'https://file.hankcs.com/hanlp/ner/ner_conll03_bert_base_uncased_en_20200104_194352.zip', 'CHNSENTICORP_BERT_BASE_ZH': 'https://file.hankcs.com/hanlp/classification/chnsenticorp_bert_base_20200104_164655.zip', 'SST2_BERT_BASE_EN': 'https://file.hankcs.com/hanlp/classification/sst2_bert_base_uncased_en_20200210_090240.zip', 'SST2_ALBERT_BASE_EN': 'https://file.hankcs.com/hanlp/classification/sst2_albert_base_20200122_205915.zip', 'EMPATHETIC_DIALOGUES_SITUATION_ALBERT_BASE_EN': 'https://file.hankcs.com/hanlp/classification/empathetic_dialogues_situation_albert_base_20200122_212250.zip', 'EMPATHETIC_DIALOGUES_SITUATION_ALBERT_LARGE_EN': 'https://file.hankcs.com/hanlp/classification/empathetic_dialogues_situation_albert_large_20200123_142724.zip'}


import hanlp tokenizer = hanlp.load('PKU_NAME_MERGED_SIX_MONTHS_CONVSEG')单句分词：
tokenizer('商品和服务')['商品', '和', '服务']批量并行分词：
tokenizer(['萨哈夫说，伊拉克将同联合国销毁伊拉克大规模杀伤性武器特别委员会继续保持合作。',               '上海华安工业（集团）公司董事长谭旭光和秘书张晚霞来到美国纽约现代艺术博物馆参观。',               'HanLP支援臺灣正體、香港繁體，具有新詞辨識能力的中文斷詞系統'])[['萨哈夫', '说', '，', '伊拉克', '将', '同', '联合国', '销毁', '伊拉克', '大', '规模', '杀伤性', '武器', '特别', '委员会', '继续', '保持', '合作', '。'],  ['上海', '华安', '工业', '（', '集团', '）', '公司', '董事长', '谭旭光', '和', '秘书', '张晚霞', '来到', '美国', '纽约', '现代', '艺术', '博物馆', '参观', '。'],  ['HanLP', '支援', '臺灣', '正體', '、', '香港', '繁體', '，', '具有', '新詞', '辨識', '能力', '的', '中文', '斷詞', '系統']]




git中进入anaconda 虚拟环境
任意目录，source activate xxx 进入虚拟环境，
eg: source activate zxd_work

pyhanlp UnicodeEncodeError: 'utf-8' codec can't encode character '\udcae' in position 10: surrogates not allowed


新闻热点：
https://github.com/Jacen789/HotNewsAnalysis

记录：
ASGI(Asynchronous Server Gateway Interface, 异步服务器网关接口) 
ASGI由单独的异步应用沟通成。其中包括scope，包含传入请求的所有信息；send，用于向客户端发送事件的异步方法，receive，用于接受客户端发来事件的异步方法。









回家需做的事情：
1.下载Centos镜像  --已完成
2.nvicat 客户端 --已完成
3.将python程序打包成exe文件（有趣）https://www.cnblogs.com/aoede-jacqueline/archive/2019/07/25/11244714.html

1-1 安装Centos7新的思路（20200529）：
优先级：1
https://www.jianshu.com/p/6e202b9a7479?utm_campaign
2
https://www.cnblogs.com/Lenbrother/articles/6251555.html







uvicorn


pip install fastapi
pip install uvicorn

安装requirements.txt
pip install -r requirements.txt


COPY ./app/pyproject.toml ./app/poetry.lock* /app/




真实生产环境：
1.
pip install uvicorn
pip install fastapi
pip install pyhanlp

把环境导出

部署docker




windows路径
root=d:/programdata/anaconda3/envs/zxd_work/lib/site-packages/pyhanlp/static

linux 路径
root=/usr/local/lib/python3.7/site-packages/pyhanlp/static

/usr/local/lib/python3.7/site-packages/pyhanlp/static/data

ADD start.sh /usr/local/bin/start.sh


创建docker镜像：
docker build -t docker.io/centos:httpd .


启动命令：
docker run -d -p 80:80 docker.io/centos:httpd /bin/bash -c /usr/local/bin/start.sh
docker run -d -p 80:80 myimages60:latest /bin/bash -c /usr/local/bin/start.sh
myimages60                  latest



情感分析    				算法计算
文章概述    				算法计算
事件描述    				算法计算
事件脉络    				算法计算
关键词      				算法计算
用户属性（水军/真实用户）   算法计算


需求方(产品经理、技术人员、运营人员) => 需求 => 项目经理 => 关联需求 => 项目经理把需求分配为主任务指派给研发 => 研发分解子任务 => 设计方案、研发 => 测试人员进入 => 运维人员发版 => 产品经理进入验收 => 运维人员发布上线







===20200506
事项：
1.安装office 破解版
http://www.downcc.com/soft/290076.html
2.fastAPI+Hanlp 空实现配置灵活ip
3.pycharm激活
http://www.ddooo.com/softdown/137541.htm  搞定
4.深入学习python的各种高级语法 
eg：
@asdfasd
def adfa

学会看懂各个包，模块的源码！！！！





httpd -DFOREGROUND

/usr/sbin/httpd -DFOREGROUND

/usr/sbin/httpd -DFOREGROUND

127.0.0.1

172.16.23.222


--add-host list

网盘_共享文件夹
\\172.16.26.50\axure 
iis_guest
LKJHSd657r0345%^S7


信用中国、中国司法执行网、中国执行信息公开网等“国家事务”网站

需求方(产品经理、技术人员、运营人员) => 需求 => 项目经理 => 关联需求 => 项目经理把需求分配为主任务指派给研发 => 
研发分解子任务 => 设计方案、研发 => 测试人员进入 => 运维人员发版 => 产品经理进入验收 => 运维人员发布上线

172.16.26.39:7103/swagger-ui.html#/


微信
全网热点
新浪微博
腾讯微博
TWeibo
facebook
twitter
google+
百度


https://photo.weibo.com/5597996600/photos/detail/photo_id/3847752692981781/album_id/3838159057253472

in:name 爬虫 stars:>1000 in:readme 微信公众号 in:手机 pushed:>2020-01-01

https://mp.weixin.qq.com/cgi-bin/searchbiz





D:\Daniel\code\liwenjun\爬虫\sougou_wechat_crawler-master\chromedriver.exe


css选择器：
target="_blank"



关键词搜索微博_微信公众号文章


https://mp.weixin.qq.com/s?src=11&timestamp=1588823834&ver=2323&signature=ti32iXiVJWkrK-T-xT0JW9iuQT7dGvB-OpEg58RqXL981xrioHR51diH1PLOo6EHY6Ztj18UlG*dY1A*4XOOWVZyjX6SHlLPKiT3NUL1Z8ijexKcusvLIp4S3Cqet7N2&new=1

https://mp.weixin.qq.com/s?src=11&timestamp=1588823834&ver=2323&signature=1twB*kkdQNzVRFGDvKjQnH3TiXatCVBkKGxcsP2IWnE0ZuvSbH0Zj*fr3TXd2M3BmaePjafXtqyu2x3Z2WhvATFEuYiRJENGeLjPMFs8pXxw1*6hiy-bQXnDfCZq7ZEW&new=1



关于公众号的爬取：[常规的分为三种方式](https://github.com/DropsDevopsOrg/ECommerceCrawlers/wiki/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E7%88%AC%E5%8F%96%E7%A0%94%E7%A9%B6)。

 - 1、爬取搜狗微信接口。
 - 2、通过代理拦截到微信的请求数据与响应数据。
 - 3、hook微信的对象被动爬取。



============20200507
通过搜狗爬取公众号文章！今天必须实现！
爬取微信公众号的文章
爬取的内容：
1.1标题
1.文章内容
2.文章的阅读数，和点赞数


close_3220581391
13337677032a

172.16.23.222

52221576
#	Result	Protocol	Host	URL	Body	Caching	Content-Type	Process	Comments	Custom	
3	200	HTTPS	zs.xiguaji.com	/UserLogin/LoginQrCodeTick	0	private		chrome:6920			
zs.xiguaji.com/UserLogin/LoginQrCodeTick


尝试1：太复杂了，分析不出来
lp.open.weixin.qq.com/connect/l/qrconnect?uuid=071aMkxXCFwzRlkF&_=1588840005179

/connect/l/qrconnect?uuid=071aMkxXCFwzRlkF&_=1588840005179


Referer: https://mp.weixin.qq.com/s?__biz=MTI0MDU3NDYwMQ==&mid=2656876920&idx=2&sn=ececb33a869c6e8023bcd6301f61de4d&chksm=7a66449e4d11cd88dee53d3abae788e0884bcd2492c911ca2c7df6ffa3b2f03f4fb456ca2c85&sessionid=1588839706&scene=126&subscene=0&clicktime=1588840023&enterid=1588840023&ascene=3&devicetype=android-26&version=27000834&nettype=WIFI&abtest_cookie=AAACAA%3D%3D&lang=zh_CN&exportkey=AXZmyu%2Bj8puic5YotZXVWH8%3D&pass_ticket=1ZQMlrXVIGWJmuFsKH8xeqUEYF%2BPzckx11gKXZHOkujBEVXp9xEVQZn6ZAqt8ORe&wx_header=1


Request sent 437 bytes of Cookie data:

	wxuin=1290588581
	devicetype=android-26
	version=27000834
	lang=zh_CN
	rewardsn=
	wxtokenkey=777
	pass_ticket=1ZQMlrXVIGWJmuFsKH8xeqUEYF+Pzckx11gKXZHOkujBEVXp9xEVQZn6ZAqt8ORe
	cert=FlnSZ63vAhj7mYpexKM_Mr4zrSGxs502
	sig=h0179cae15cff56ae457f21546323857b86f305ac044e20e02ded466708a60e9e833ec996498da6fbf7
	wap_sid2=
		CKWjs+cEEkhYMU9GTzROUmxPNWlsWDdqVlY2ZXZ6Z1F4WUxTQXR0VG5keElkZHFQNFVYSUk1TG5Ec0prdzhERmdRNmFWV182SkFRQUFBfn4w9vjO9QU4DECUTg==

https://mp.weixin.qq.com/s?
__biz=MTI0MDU3NDYwMQ==&mid=2656876920&idx=2&sn=ececb33a869c6e8023bcd6301f61de4d&chksm=7a66449e4d11cd88dee53d3abae788e0884bcd2492c911ca2c7df6ffa3b2f03f4fb456ca2c85&sessionid=1588839706&scene=126&subscene=0&clicktime=1588840023&enterid=1588840023&ascene=3&devicetype=android-26&version=27000834&nettype=WIFI&abtest_cookie=AAACAA%3D%3D&lang=zh_CN&exportkey=AXZmyu%2Bj8puic5YotZXVWH8%3D&pass_ticket=1ZQMlrXVIGWJmuFsKH8xeqUEYF%2BPzckx11gKXZHOkujBEVXp9xEVQZn6ZAqt8ORe&wx_header=1


尝试2：通过账号密码登录：

主体名称：吴冠禹

该主体已达注册上限，不支持继续注册。如需查询主体注册的公众号，可登录该主体其中一个微信公众号后台进行查询，操作入口：公众号设置-主体信息-详情-主体绑定帐号。


卧槽， 信息都看不到，怎么爬？？？？？？？？

172.16.23.58



============20200508
微信公众号数据爬取思路
思路1：
https://github.com/hzhu212/wechat-mp-crawler
概括：
在电脑上配置 Fiddler 只监听微信公众号文章
保存公众号文章url
通过《我们直接借用 Fiddler 截获到的 Cookies。选中最后一个请求，点击菜单栏“File -> Save -> Request -> Entire Request”我们直接借用 Fiddler 截获到的 Cookies。
选中最后一个请求，点击菜单栏“File -> Save -> Request -> Entire Request”》 保存cookies
进行请求，获得评论，点赞数等数据。

缺点：需要人工点击公众号更多列表


思路2：
https://github.com/GaoHuaTJ/wechat_article
概括：和思路1差不多
缺点一样

思路3：
https://github.com/PePeyang/weixin_articles_spider
概括：通过自动化安卓模拟器找到公众号更多文章的按钮，找到历史文章记录
详细情况：通过对手机微信客户端的请求抓包，获取到访问历史文章的分页接口，批量生产最大的好处，可实现大量的微信公众号之间的切换，且只要你微信足够多，爬多少都不是问题
缺点：需要购买很多微信账号


思路4
https://github.com/wnma3mz/wechat_articles_spider
微信公众平台查找文章的按钮已经失效。


思路5：
https://github.com/dongrunhua/WeChat
概括：可能失效了。


思路6
https://github.com/wnma3mz/wechat_articles_spider
概括：和思路5一样

思路7：
https://github.com/striver-ing/wechat-spider   （重点关注！！！！！！！！！！！！！！！！！！！！！!!!!!!!!!!!!!!!!）
概括：通过手机浏览电脑捕获文章url，然后爬取
确定：手累，对手不好。


思路8：？？？？？？
# 搜狗微信渠道（已放弃）
# AnyProxy+Appium
# X-Wechat-Key（万能key）

Hook微信，获取微信公众号推送


google搜索爬虫爬取微信公众号文章：
1.思路9：前面人的基础上改进了， fiddler 抓包后，构造请求url，下载指定公众号的所有文章  （可行）
相关代码：D:\Daniel\code\mywechat_9
相关链接：https://wuzhangyang.com/2019/08/09/python-save-wechat-article/

2.思路10

思路：实现对微信公众号文章的自动浏览
相关链接： https://cuiqingcai.com/6763.html
相关代码：D:\Daniel\code\mygit\AppiumWeChatAuto-master.zip

==20200508 要实现的目标。
任务：
采集一个公众号下面的所有文章：
方法：抓包的方式。
https://www.lizenghai.com/archives/31687.html  抓包的方式。









思路8：
https://blog.csdn.net/ityouknow/article/details/104509404
通过手机浏览电脑捕获文章url，然后爬取   和思路7差不多



思路9：
基于中间人截获的微信公众号爬虫

https://blog.csdn.net/rongxiang111/article/details/78320464





==========

http://weixin.sogou.com/gzhjs?cb=sogou.weixin.gzhcb&openid={0}&page={1}&t={2}


西瓜数据
“双微”数据分析及监测平台

公众号版微博版

提供200W活跃微博达人数据、粉丝画像、微博电商数据分析，追踪热卖博主、爆款商品流行趋势，智能分析博主广告价值，监控真实流量。


收录并监控约500W活跃公众号数据，覆盖50个热门行业，智能分析公众号广告价值，帮助您快速寻找优质公众号，降低找号成本。






西瓜数据
“双微”数据分析及监测平台

公众号版微博版

提供200W活跃微博达人数据、粉丝画像、微博电商数据分析，追踪热卖博主、爆款商品流行趋势，智能分析博主广告价值，监控真实流量。


收录并监控约500W活跃公众号数据，覆盖50个热门行业，智能分析公众号广告价值，帮助您快速寻找优质公众号，降低找号成本。

172.16.23.105



===测试时间点：20200508
测试url：
https://mp.weixin.qq.com/s?src=11&timestamp=1588926602&ver=2325&signature=yHJL57sEO16F0fLGvRQKybHuMtizjL8DZgT10ZteNP8OuIs04TrRypf03-Bd9eC8A*Xpqa1wRrCORPOsaV5YOcBGRB0gl-dKuySdv2I8RSafFyu7ktuv3AYrqDhlWY1b&new=1
看看过一段时间url是否过期？






==20200509 实践手机抓包，抓取微信公众号文章的数据

mp.weixin.qq.com

https://mp.weixin.qq.com/cgi-bin/scanloginqrcode?action=ask&token=&lang=zh_CN&f=json&ajax=1

http://data.mistat.xiaomi.com/mistats/v3


备注：
mp.weixin.qq.com

文章url eg：
https://mp.weixin.qq.com/s?__biz=MTI0MDU3NDYwMQ==&mid=2656877424&idx=1&sn=20a846c34ffe733a2872db2a8bd39a04&chksm=7a6646964d11cf809db4c869bc3e5367c1f472f4ef967f07d307b7c390077e3e5691ff10e508&scene=0&xtrack=1&clicktime=1588984980&enterid=1588984980&ascene=7&devicetype=android-26&version=27000834&nettype=WIFI&abtest_cookie=AAACAA%3D%3D&lang=zh_CN&exportkey=AWI1%2B3jLJJHfefPDUScqzAw%3D&pass_ticket=WEyLHp67oa0n3harjBhXqA2L1UO6IpIe9XcP2wSn36707CckyKAEd2uam2kHGgfy&wx_header=1

评论，评论点赞的url：
https://mp.weixin.qq.com/mp/appmsg_comment?action=getcomment&scene=0&appmsgid=2656877478&idx=1&comment_id=1332220707601809410&offset=0&limit=100&send_time=&uin=777&key=777&pass_ticket=d%25252BPoTc8tslBuXz%25252Fm776dik8omNX4GWkxc46tZF%25252FzmtY7asb21T75Dxuz68ZUDIgt&wxtoken=777&devicetype=android-26&clientversion=27000834&__biz=MTI0MDU3NDYwMQ%3D%3D&enterid=1589005838&appmsg_token=1060_Vd53C%252FIy4AL13N1I3-TakMup2qf6o07iJHicQ7jJuPjvMkSOUdtCfde4eJch22koKEvYiOc1lrjzYjCp&x5=0&f=json

Headers:
HTTP/1.1 200 OK
RetKey: 14
LogicRet: 0
Content-Type: application/json; charset=UTF-8
Cache-Control: no-cache, must-revalidate
Strict-Transport-Security: max-age=0
MMLAS-VERIFYRESULT: CAE=
Connection: keep-alive
Content-Length: 12588



GET /mp/appmsg_comment?action=getcomment&scene=0&appmsgid=2656877478&idx=1&comment_id=1332220707601809410&offset=0&limit=100&send_time=&uin=777&key=777&pass_ticket=d%25252BPoTc8tslBuXz%25252Fm776dik8omNX4GWkxc46tZF%25252FzmtY7asb21T75Dxuz68ZUDIgt&wxtoken=777&devicetype=android-26&clientversion=27000834&__biz=MTI0MDU3NDYwMQ%3D%3D&enterid=1589005838&appmsg_token=1060_Vd53C%252FIy4AL13N1I3-TakMup2qf6o07iJHicQ7jJuPjvMkSOUdtCfde4eJch22koKEvYiOc1lrjzYjCp&x5=0&f=json HTTP/1.1
Host: mp.weixin.qq.com
Connection: keep-alive
User-Agent: Mozilla/5.0 (Linux; Android 8.0.0; MIX 2 Build/OPR1.170623.027; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/78.0.3904.62 XWEB/2352 MMWEBSDK/191001 Mobile Safari/537.36 MMWEBID/957 MicroMessenger/7.0.8.1540(0x27000834) Process/toolsmp NetType/WIFI Language/zh_CN ABI/arm64 MicroMessenger/7.0.8.1540(0x27000834) Process/toolsmp NetType/WIFI Language/zh_CN ABI/arm64
X-Requested-With: XMLHttpRequest
Accept: */*
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Referer: https://mp.weixin.qq.com/s?__biz=MTI0MDU3NDYwMQ==&mid=2656877478&idx=1&sn=ab33263b009290714071bdabf268e03d&chksm=7a6646404d11cf5698d2a2085f0da2a6bc44d22e81a89c85d2dee3a1b844431887e205fadd09&scene=90&xtrack=1&subscene=93&clicktime=1589005838&enterid=1589005838&ascene=56&devicetype=android-26&version=27000834&nettype=WIFI&lang=zh_CN&exportkey=AbhmAl%2FmA3TLkxrJR8CjYlg%3D&pass_ticket=d%2BPoTc8tslBuXz%2Fm776dik8omNX4GWkxc46tZF%2FzmtY7asb21T75Dxuz68ZUDIgt&wx_header=1
Accept-Encoding: gzip, deflate
Accept-Language: zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7
Cookie: rewardsn=; wxtokenkey=777; wxuin=2424058728; devicetype=android-26; version=27000834; lang=zh_CN; pass_ticket=d+PoTc8tslBuXz/m776dik8omNX4GWkxc46tZF/zmtY7asb21T75Dxuz68ZUDIgt; wap_sid2=COjm8IMJElxRZzItSi1UOXNkWTA0cG1OQXhEdUc2bkQzRWw0YkZ6SG1FMXJxZTRYd2xad0ZXc3pNMjUxZUZGd0JoQ1hNV2RLMEFwLXFhUjRnbS0xOEVpeDRHRzJpeVFFQUFBfjDanNn1BTgNQAE=



保留：
   'GET /mp/appmsg_comment?action=getcomment&scene=0&appmsgid=2656877478&idx=1&comment_id=1332220707601809410&offset=0&limit=100&send_time=&uin=777&key=777&pass_ticket=d%25252BPoTc8tslBuXz%25252Fm776dik8omNX4GWkxc46tZF%25252FzmtY7asb21T75Dxuz68ZUDIgt&wxtoken=777&devicetype=android-26&clientversion=27000834&__biz=MTI0MDU3NDYwMQ%3D%3D&enterid=1589005838&appmsg_token=1060_Vd53C%252FIy4AL13N1I3-TakMup2qf6o07iJHicQ7jJuPjvMkSOUdtCfde4eJch22koKEvYiOc1lrjzYjCp&x5=0&f=json HTTP/1.1',
    "Host": 'mp.weixin.qq.com',
    "Connection":"keep-alive",
    'User-Agent': 'Mozilla/5.0 (Linux; Android 8.0.0; MIX 2 Build/OPR1.170623.027; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/78.0.3904.62 XWEB/2352 MMWEBSDK/191001 Mobile Safari/537.36 MMWEBID/957 MicroMessenger/7.0.8.1540(0x27000834) Process/toolsmp NetType/WIFI Language/zh_CN ABI/arm64 MicroMessenger/7.0.8.1540(0x27000834) Process/toolsmp NetType/WIFI Language/zh_CN ABI/arm64',
    'X-Requested-With: XMLHttpRequest',
    'Accept': '*/*',
    'Sec-Fetch-Site': 'same-origin',
    'Sec-Fetch-Mode': 'cors',
    'Referer': 'https://mp.weixin.qq.com/s?__biz=MTI0MDU3NDYwMQ==&mid=2656877478&idx=1&sn=ab33263b009290714071bdabf268e03d&chksm=7a6646404d11cf5698d2a2085f0da2a6bc44d22e81a89c85d2dee3a1b844431887e205fadd09&scene=90&xtrack=1&subscene=93&clicktime=1589005838&enterid=1589005838&ascene=56&devicetype=android-26&version=27000834&nettype=WIFI&lang=zh_CN&exportkey=AbhmAl%2FmA3TLkxrJR8CjYlg%3D&pass_ticket=d%2BPoTc8tslBuXz%2Fm776dik8omNX4GWkxc46tZF%2FzmtY7asb21T75Dxuz68ZUDIgt&wx_header=1',
    'Accept-Encoding': 'gzip, deflate',
    'Accept-Language': 'zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7',
	
	
	
	
	GET /mp/appmsg_comment?action=getcomment&scene=0&appmsgid=2656877292&idx=2&comment_id=1331237600341950466&offset=0&limit=100&send_time=&uin=777&key=777&pass_ticket=d%25252BPoTc8tslBuXz%25252Fm776dik8omNX4GWkxc46tZF%25252FzmtY7asb21T75Dxuz68ZUDIgt&wxtoken=777&devicetype=android-26&clientversion=27000834&__biz=MTI0MDU3NDYwMQ%3D%3D&enterid=1589007762&appmsg_token=1060_JMMqGCJAb6qnc5x3PTYwMNxHyyEkZuwsacD-t359aIyDPPjVjhVt5tIKh1qar2tUPhLCQIrtuSrnQGds&x5=0&f=json HTTP/1.1
Host: mp.weixin.qq.com


'Connection': 'keep-alive',
'User-Agent': 'Mozilla/5.0 (Linux; Android 8.0.0; MIX 2 Build/OPR1.170623.027; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/78.0.3904.62 XWEB/2352 MMWEBSDK/191001 Mobile Safari/537.36 MMWEBID/957 MicroMessenger/7.0.8.1540(0x27000834) Process/toolsmp NetType/WIFI Language/zh_CN ABI/arm64 MicroMessenger/7.0.8.1540(0x27000834) Process/toolsmp NetType/WIFI Language/zh_CN ABI/arm64',
'X-Requested-With': 'XMLHttpRequest',
'Accept': '*/*',
'Sec-Fetch-Site': 'same-origin',
'Sec-Fetch-Mode': 'cors',
'Referer': 'https://mp.weixin.qq.com/s?__biz=MTI0MDU3NDYwMQ==&mid=2656877292&idx=2&sn=fa111d3166a7421a9a6d94178b293019&chksm=7a66470a4d11ce1c22864fb26dceba5f76d24371a169ebf44213696d48d4c083a3604eaba5ee&sessionid=1589005836&scene=126&subscene=0&clicktime=1589007762&enterid=1589007762&ascene=3&devicetype=android-26&version=27000834&nettype=WIFI&lang=zh_CN&exportkey=AdkAzVbkIsnAvOl5d962zi4%3D&pass_ticket=d%2BPoTc8tslBuXz%2Fm776dik8omNX4GWkxc46tZF%2FzmtY7asb21T75Dxuz68ZUDIgt&wx_header=1',
'Accept-Encoding': 'gzip, deflate',
'Accept-Language': 'zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7',
'Cookie': 'rewardsn=; wxtokenkey=777; wxuin=2424058728; devicetype=android-26; version=27000834; lang=zh_CN; pass_ticket=d+PoTc8tslBuXz/m776dik8omNX4GWkxc46tZF/zmtY7asb21T75Dxuz68ZUDIgt; wap_sid2=COjm8IMJElw5Snh5R2dKS2l6eVRURnpUbTMtUmxvRGVVVTNac0hNSHM0Y0Q3UlMtZE5vOThtZFBCYkJxYXZWLVpGSllUTklaemZLSWpadFdKaHlRU29FYjZCYl9sQ1FFQUFBfjD7sNn1BTgNQAE=',







Cookie: rewardsn=; wxtokenkey=777; wxuin=1290588581; devicetype=android-26; version=27000834; lang=zh_CN; pass_ticket=h+6rU2ekldeYfhGQvpcQz6DcuLQVXj+90hnQZVx6vo+LmlDPdQ/H63z7h1Mqxx1h; wap_sid2=CKWjs+cEElxZWlRVVENsdUp6UGxROWFDZDlHUlNvTGhucFc3OFR3LURkU05CWVZ1N0htMW15MGFXTHR1OUs0eWpOWE5lM0JKckxFNEYtOVhYNFduSnVxQm5QOTVraVFFQUFBfjCtvtn1BTgNQAE=





Accept-Language: zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7



GET /s?__biz=MzA5OTQyMDgyOQ==&mid=2652587864&idx=2&sn=d635a6b6483fb71469d0fe249a4d2bb4&chksm=8b6d78aabc1af1bca384972516619f65b6594e9dbdebfcdc84ad05c57bd4fceea16bba516a64&scene=0&xtrack=1&clicktime=1589010002&enterid=1589010002&ascene=7&devicetype=android-26&version=27000834&nettype=WIFI&abtest_cookie=AAACAA%3D%3D&lang=zh_CN&exportkey=AaT%2FincLrs%2Ba%2BDvTsQZWmDg%3D&pass_ticket=h%2B6rU2ekldeYfhGQvpcQz6DcuLQVXj%2B90hnQZVx6vo%2BLmlDPdQ%2FH63z7h1Mqxx1h&wx_header=1 HTTP/1.1
Host': 'mp.weixin.qq.com
'Connection': 'keep-alive',
'Upgrade-Insecure-Requests': '1',
'User-Agent': 'Mozilla/5.0 (Linux; Android 8.0.0; MIX 2 Build/OPR1.170623.027; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/78.0.3904.62 Mobile Safari/537.36 MMWEBID/1955 MicroMessenger/7.0.8.1540(0x27000834) Process/toolsmp NetType/WIFI Language/zh_CN ABI/arm64 MicroMessenger/7.0.8.1540(0x27000834) Process/toolsmp NetType/WIFI Language/zh_CN ABI/arm64',
'Sec-Fetch-User': '?1',
'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/wxpic,image/tpg,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',
'x-wechat-key': '8dd6800d244b7cda3fe1ff794c0694aa08d1a0cf9ef2be2c3d364105ffbc264a29242bdde39634be278c3c9d67365d5ace92961502dbf3bacd067ee07a1745ef62f565ba2e1e6ca38fa88205eec32b41',
'x-wechat-uin': 'MTI5MDU4ODU4MQ%3D%3D',
'X-Requested-With': 'com.tencent.mm',
'Sec-Fetch-Site: none',
'Sec-Fetch-Mode': 'navigate',
'Accept-Encoding': 'gzip, deflate',
'Accept-Language': 'zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7',



======202005102058
fillder不行，挖槽
先下模拟器软件（手机模拟大师），genynotion

然后，试一下前面的真实手机抓包，不行就用上面的软件抓包的方式，在模拟器上安装系统证书，在进行抓包。




以太网适配器 以太网:

   连接特定的 DNS 后缀 . . . . . . . :
   本地链接 IPv6 地址. . . . . . . . : fe80::5971:7822:3302:87c2%14
   IPv4 地址 . . . . . . . . . . . . : 192.168.0.102
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   默认网关. . . . . . . . . . . . . : 192.168.0.1
   

遇到的问题：
（1）20:58:10:7484 !SecureClientPipeDirect failed: System.Security.Authentication.AuthenticationException 调用 SSPI 失败，请参见内部异常。 < 处理证书时，出现了一个未知错误。 for pipe (CN=*.clients.google.com, O=DO_NOT_TRUST, OU=Created by http://www.fiddler2.com).
(2)Navicat Premium 12连接MySQL数据库出现Authentication plugin 'caching_sha2_password' cannot be loaded的解决方案
    ALTER USER 'root'@'localhost' IDENTIFIED BY 'password' PASSWORD EXPIRE NEVER;   #修改加密规则 
   ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password';   #更新一下用户的密码
FLUSH PRIVILEGES;   #刷新权限 
再重置下密码：alter user 'root'@'localhost' identified by '111111';

(3)python中安装包出现Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None))…………
pip install mitmproxy -i http://pypi.douban.com/simple --trusted-host pypi.douban.com


（4）Cannot uninstall 'certifi'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.

    DEPRECATION: Uninstalling a distutils installed project (certifi) has been deprecated and will be removed in a future version. This is due to the fact that uninstalling a distutils project will only partially uninstall the project.

.py代码 ，转.exe文件

mitmproxy

https://mp.weixin.qq.com/s?__biz=MTI0


https://mp.weixin.qq.com/s?__biz=MzA5OTQyMDgyOQ==&mid=2652587113&idx=1&sn=06948c5bf4661ca4c5aac2b2864f970a&chksm=8b6d7b9bbc1af28d48a3af12d07cc0ee25671311e8dfb255a8a3b76b0c6888418c01ee455d9b&scene=27#wechat_redirect


http://mp.weixin.qq.com/s?__biz=MzA5NzU3MDA3MA==&mid=2652557277&idx=1&sn=60984e22f694af837edad35ee537ff9d&chksm=8b70b3a4bc073ab2369edeb78175faeb9335c70325f0705bf7fa4fc894f94b3b93bd482e4a9a&scene=27#wechat_redirect



__biz=MzA5OTQyMDgyOQ==&mid=2652587113&idx=4&sn=e1e4b8c7a0b965c6ee46ba90c09c2226&chksm=8b6d7b9bbc1af28d123dd72570dad0231f57a80e0d6a8ff9540de18905284c86bfafd6f3f596&scene=27#wechat_redirect

http://mp.weixin.qq.com/s?__biz=MzA5OTQyMDgyOQ==&mid=2652587113&idx=5&sn=0a1543529856f644b2192695209b340c&chksm=8b6d7b9bbc1af28d3883cc060aef87ab5227cde7cb60d6bc08b24f3f157109ec956bb84036dc&scene=27#wechat_redirect




爬虫很实在的要求：
1) 热爱技术、对解决难题富有激情、学习能力强、求知欲望强，这样你才能赶上并超越对手；

2) 具备强悍的编码能力，敏捷的思维能力，内功扎实；

3) 精通python，而不仅仅是熟悉；

4) 精通常见的、不常见的爬虫或反爬虫策略，解决过一个或多个具有高难度反爬虫的网站，如果没有，那么希望你能继续努力；

5) 熟悉Windows、Linux、Mac等环境下的开发、运维，环境不应该影响你的发挥；

6) 希望你开发过属于自己的爬虫框架，不要只用别人的，适合自己的才是最好的；

7) 希望你曾经采集过千万量级以上的数据，这样你就能帮助我们优化数据库的使用；

8) 希望你搞定过App逆向，免得面对加密参数时一筹莫展；

9) 熟练使用Pyppeteer、破解过浏览器指纹、使用过各种自动化控制工具，解放自己双手；

10) 使用过OpenCV、PIL、搞定过验证码最好了；
11) 如果再用过Docker、K8S、Spark那就更好了；


====20200511 需要完成的事项：
1.了解都有哪些爬虫框架。
2.熟悉js，js逆向！！（核心技能！） 
	中间人可以拦截数据，也可以嵌入js
3.逆向学习资源：https://zhuanlan.zhihu.com/p/59512645
	
	

微信开始抓的url
url = 'https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz={}&scene=124#wechat_redirect'.format(__biz)



方向：
1.抓包分析一下，项目代码（梳理一下），每个模块都测试一下，项目包环境也测试一下

2.挂上电话号码，跑一下，看看是不是每个字段都能爬到




SSID:	leadsec123
协议:	Wi-Fi 4 (802.11n)
安全类型:	WPA2-个人
网络频带:	2.4 GHz
网络通道:	6
本地链接 IPv6 地址:	fe80::de4:df79:2833:5c87%19
IPv4 地址:	172.16.23.247
IPv4 DNS 服务器:	172.16.23.104
221.11.132.2
制造商:	Intel Corporation
描述:	Intel(R) Wireless-AC 9462
驱动程序版本:	20.50.0.5
物理地址(MAC):	04-ED-33-E3-3D-C0


占豪
2 --	血饮
3 11	远方青木
4 --	燕梳楼
5 --	明人明察
6 23	Vista看天下
7 --	码头青年
8 --	NE0
9 --	人文之窗
10 36	戎评
11 25	新华裔
12 3	政事堂2019
13 3	政委灿荣
14 17	襄阳网
15 103	行长要参
16 9	南风窗
17 14	上海本地宝
18 23	侠客岛
19 71	深圳本地宝
20 --	益视频工作室
21 27	英国报姐
22 14	胡锡进观察
23 --	文明汉中
24 11	广东共青团
25 58	大渝网
26 --	平安家园
27 236	林孤小姐
28 --	新闻早餐
29 14	半月谈
30 8	河北共青团


https://mp.weixin.qq.com/s?__biz=MjM5MTgzMzQ4OA==&mid=2653112544&idx=1&sn=b5d8fcd2d1236f0055b44475eb57ed53&
chksm=bd78641f8a0fed09e8db3c6b65bffb8bbc97c3ea14968762f3cbfb07ca1bce91a379ca94e6b8&scene=38&
ascene=0&devicetype=android-26&version=27000e37&nettype=WIFI&
lang=zh_CN&exportkey=A3tTAXvR3ygq1EaQv9Gg7M4%3D&pass_ticket=D9L0kzzaJ63QDE836%2Fh8E13IPVsUkQSzPKWLpfQ9MsNm2sBN0tnY7UVXoubffMjL&wx_header=1





需要检查的url
1./s?__biz	/mp/appmsg/show?__biz=	/mp/rumor		# 文章内容；mp/appmsg/show?_biz 为2014年老版链接;  mp/rumor 是不详实的文章

2.mp/getappmsgext		# 阅读量 观看量

3./mp/appmsg_comment	# 评论列表	





 insert   库2..表2   select   字段1，字段2   from   库1..表1　where 条件
 
 
 将一个库中的某个表的数据复制到另一个库中的某个表：
 CREATE TABLE new_table LIKE old_database.old_table;
INSERT new_table SELECT * FROM old_database.old_tablel;

VSCODE


===202005112137
vscode
jizhagn
优化跑一下抓微信公众号的项目代码，争取源码运行成功



有趣的项目：
NodeJS Shopping Cart


需要拷贝的内容
1.船长的笔记
2.答题记录

Features
Ctrl(Cmd)+Alt+M for JSON pretty.

Alt+M for JSON minify.



待办事项：
微信问题：
1.是否原创？
2.西电老师支援问题（已解决）
@property		（已解决）
python中的redis如何调试
1.船长的笔记
2.答题记录
url里都有些什么规律（？等等）（已解决）
re.sub
task_manager.py是怎么工作的
如何查看某个接口被哪些方法调用 eg：__parse_account_info
如何让某个字段自增
装了sourcegraph github相应的按钮是灰色的 （已解决）
python 如何发出邮件提醒

在虚拟机中模拟出一个python开发环境，windows太多问题了（包括浏览器，编辑器）
python 各种函数变量名（_abc   adc_）（已解决）
分析完程序（微信公众号）里的所有url
如何给mysql查询窗口起名
版本控制（git）在 开发中的实用技巧（已解决）
学习一下markdown的语法（标识代码的相框式的写法！！！！）（已解决）
写自己的工具函数（挖掘开发中可能遇到的常见问题，需求，然后写代码实现它）

1.在真实的云服务器上搭建大数据生产集群
2.抓udp包（类似QQ聊天产生的数据），然后转发。这个如何实现？？？
3. 快速切换电脑屏幕(软件)

4.元类编程
http://blog.lujun9972.win/blog/2018/02/23/python3%E4%B8%AD%E7%9A%84%E5%85%83%E7%B1%BB/index.html


scrapy调试方法笔记做全了！！！
通过log显示详细错误
学习被人是如何实现增量爬取的
xpath各种节点选取
消息队列的学习

带上旧手机

1.把前面遗留的待办事项处理一下（1h）
2.python 高级语法 学习（1h）
3.算法 + 知识图谱





调整以后的目标：
1.熟悉微信公众号的源码，提升采集数据的质量，现在不要求效率。
2.弄微信，
微博（关键词搜索，指定账号搜索）
今日头条（关键词搜索，指定账号搜索）
3.对微信公众号源码有比较熟悉的了解
4.content_html 代码转json有问题
5.tcpdump监控网络包

mogodb数据库的学习
es数据库的学习


aaa
13337677032a11





#mysql 表关联的写法：
#nihao
SELECT
	a.title,
	c.content 
FROM
	`wechat_article` a
	LEFT JOIN ( SELECT b.nick_name, b.comment_id, b.content FROM wechat_article_comment b ) c ON a.comment_id = c.comment_id























做爬虫离不开这些工具，特别是基于APP的爬虫。
问题：
1.做爬虫离不开的工具
2.调研爬虫的好的书籍（已完成）


黄永祥的书
问题：解码不了（已解决）
网址：
https://www.foundpdf.com/archives/70464


18084661176
zxd661176


Exception: module 'utils.tools' has no attribute 'get_param




文章标题
文章发布时间
文章url
文章内容
文章评论



自动配置脚本
http://127.0.0.1:20000/pac?hash=cvQLUoMZU1DsLadHPsWrqA2&secret=QKubniTLbaWR0ne4fce31oQ3_Dr0JXRFK2NC7hMDoB81


1334361244794699776

"http://mmbiz.qpic.cn/mmbiz/bmwiaV1TjZPrCibDGGqibCibHicsdH7IreBdjWyUQuYkWeRHPx5c3FkgAJFYY1lcib7iazq1hAEdM3Ih080ZWKrrzD1IA/0/mmbizgif", "http://mmbiz.qpic.cn/mmbiz/ibTFeqIhL5ZaibfCPBXZ7D9Zdh9iaK3b47vVyc8QboEMNZapMALY7yehxqYM3zulQR1K0uRdKFOb7C4aCywTicPd2A/0", "http://mmbiz.qpic.cn/mmbiz/ibTFeqIhL5ZZtjPwJkVdsob1g93JnRkobb22t9QicfnGnN6sH8zAuDZa3BGtpLnbKUBCibTTmqXLHP4G3zGaJteNg/0", "http://mmbiz.qpic.cn/mmbiz/ibTFeqIhL5ZaibfCPBXZ7D9Zdh9iaK3b47vk6iadHYp52LlqLInbfM5wicoRL4CsmkHcibmqPoUaOESlL6808zvoZLTg/0", "http://mmbiz.qpic.cn/mmbiz/ibTFeqIhL5ZaibfCPBXZ7D9Zdh9iaK3b47vApXWSrIUqpwwUSicx2iccagKcoL65Ph4jOVYG054IfrwdSPQtic3UnIuQ/0", "http://mmbiz.qpic.cn/mmbiz/mnoDuttLdiaGOkNHmGLdVKbCDbyJMN8fU7JxQ7rpsKnPIzLGhIk59UnDLrIic9JjicxXTY1Hib2ibNWlu7YDkOvAcRQ/0", "http://mmbiz.qpic.cn/mmbiz/qOR4sJ6lUE0vjRlHAgUXzxfJVg9Svw3QzJjiaFvUuuXR8oeDDCHWBdwGcdxyLssiczNK9QL4W0ogbBdVa5x2rZdA/0"

https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzA4NDI3NjcyNA==&scene=124&uin=MjUyMjAzMDU1Mw%3D%3D&key=4fba448c6a5d87a71ced8c2042011dad464d830ae9e60d65fd14ef8b7c6aaddcdde52ba94c93bac4bf69d826e15428143689618fb69311d0498e17bff4316b3409ad161f15da4201ad6a6dcf3c5788c4&devicetype=Windows+10+x64&version=62090070&lang=zh_CN&a8scene=7&pass_ticket=k%2FO88W1l8fAG2YgF8Ec7OM7bXzKk34tWH%2FOn%2FanXHBKx44iG%2F7XaDyITK%2FGtYgk4&winzoom=1 HTTP/2.0

https://mp.weixin.qq.com/mp/profile_ext?action=getmsg&__biz=MzA4NDI3NjcyNA==&f=json&offset=10&count=10&is_ok=1&scene=124&uin=777&key=777&pass_ticket=k%2FO88W1l8fAG2YgF8Ec7OM7bXzKk34tWH%2FOn%2FanXHBKx44iG%2F7XaDyITK%2FGtYgk4&wxtoken=&appmsg_token=1060_M%2ByZWlqns%2FrCuGCulv5nAOjZAvZYmwsfr94GBQ~~&x5=0&f=json HTTP/2.0

mitmproxy 官网：
https://mitmproxy.org/
github 地址：

类似于：“截获对浏览器对该 url 的请求，将返回内容置空，并将真实的返回内容存到某个数据库，出现异常时发出邮件通知”。而对于 mitmproxy，这样的需求可以通过载入自定义 python 脚本轻松实现。



目的1：调试好源码程序，任一个公众号好页面点击都能开始任务。
接着改进1：连接测试mysql服务器
改进2：打包程序，让其可以在别的环境一键启动（如何打包程序）





mitmproxy Events

1. 针对 HTTP 生命周期
	def http_connect(self, flow: mitmproxy.http.HTTPFlow):
	(Called when) 收到了来自客户端的 HTTP CONNECT 请求。在 flow 上设置非 2xx 响应将返回该响应并断开连接。CONNECT 不是常用的 HTTP 请求方法，目的是与服务器建立代理连接，仅是 client 与 proxy 的之间的交流，所以 CONNECT 请求不会触发 request、response 等其他常规的 HTTP 事件。

	def requestheaders(self, flow: mitmproxy.http.HTTPFlow):
	(Called when) 来自客户端的 HTTP 请求的头部被成功读取。此时 flow 中的 request 的 body 是空的。

	def request(self, flow: mitmproxy.http.HTTPFlow):
	(Called when) 来自客户端的 HTTP 请求被成功完整读取。

	def responseheaders(self, flow: mitmproxy.http.HTTPFlow):
	(Called when) 来自服务端的 HTTP 响应的头部被成功读取。此时 flow 中的 response 的 body 是空的。

	def response(self, flow: mitmproxy.http.HTTPFlow):
	(Called when) 来自服务端端的 HTTP 响应被成功完整读取。

	def error(self, flow: mitmproxy.http.HTTPFlow):
	(Called when) 发生了一个 HTTP 错误。比如无效的服务端响应、连接断开等。注意与“有效的 HTTP 错误返回”不是一回事，后者是一个正确的服务端响应，只是 HTTP code 表示错误而已。


2. 针对 TCP 生命周期
	def tcp_start(self, flow: mitmproxy.tcp.TCPFlow):
	(Called when) 建立了一个 TCP 连接。

	def tcp_message(self, flow: mitmproxy.tcp.TCPFlow):
	(Called when) TCP 连接收到了一条消息，最近一条消息存于 flow.messages[-1]。消息是可修改的。

	def tcp_error(self, flow: mitmproxy.tcp.TCPFlow):
	(Called when) 发生了 TCP 错误。

	def tcp_end(self, flow: mitmproxy.tcp.TCPFlow):
	(Called when) TCP 连接关闭。1
	
	
3. 针对 Websocket 生命周期
	def websocket_handshake(self, flow: mitmproxy.http.HTTPFlow):
	(Called when) 客户端试图建立一个 websocket 连接。可以通过控制 HTTP 头部中针对 websocket 的条目来改变握手行为。flow 的 request 属性保证是非空的的。

	def websocket_start(self, flow: mitmproxy.websocket.WebSocketFlow):
	(Called when) 建立了一个 websocket 连接。

	def websocket_message(self, flow: mitmproxy.websocket.WebSocketFlow):
	(Called when) 收到一条来自客户端或服务端的 websocket 消息。最近一条消息存于 flow.messages[-1]。消息是可修改的。目前有两种消息类型，对应 BINARY 类型的 frame 或 TEXT 类型的 frame。

	def websocket_error(self, flow: mitmproxy.websocket.WebSocketFlow):
	(Called when) 发生了 websocket 错误。

	def websocket_end(self, flow: mitmproxy.websocket.WebSocketFlow):
	(Called when) websocket 连接关闭。
	
	
4. 针对网络连接生命周期
	def clientconnect(self, layer: mitmproxy.proxy.protocol.Layer):
	(Called when) 客户端连接到了 mitmproxy。注意一条连接可能对应多个 HTTP 请求。

	def clientdisconnect(self, layer: mitmproxy.proxy.protocol.Layer):
	(Called when) 客户端断开了和 mitmproxy 的连接。

	def serverconnect(self, conn: mitmproxy.connections.ServerConnection):
	(Called when) mitmproxy 连接到了服务端。注意一条连接可能对应多个 HTTP 请求。

	def serverdisconnect(self, conn: mitmproxy.connections.ServerConnection):
	(Called when) mitmproxy 断开了和服务端的连接。

	def next_layer(self, layer: mitmproxy.proxy.protocol.Layer):
	(Called when) 网络 layer 发生切换。你可以通过返回一个新的 layer 对象来改变将被使用的 layer。详见 layer 的定义。
	
5. 通用生命周期
	def configure(self, updated: typing.Set[str]):
	(Called when) 配置发生变化。updated 参数是一个类似集合的对象，包含了所有变化了的选项。在 mitmproxy 启动时，该事件也会触发，且 updated 包含所有选项。

	def done(self):
	(Called when) addon 关闭或被移除，又或者 mitmproxy 本身关闭。由于会先等事件循环终止后再触发该事件，所以这是一个 addon 可以看见的最后一个事件。由于此时 log 也已经关闭，所以此时调用 log 函数没有任何输出。

	def load(self, entry: mitmproxy.addonmanager.Loader):
	(Called when) addon 第一次加载时。entry 参数是一个 Loader 对象，包含有添加选项、命令的方法。这里是 addon 配置它自己的地方。

	def log(self, entry: mitmproxy.log.LogEntry):
	(Called when) 通过 mitmproxy.ctx.log 产生了一条新日志。小心不要在这个事件内打日志，否则会造成死循环。

	def running(self):
	(Called when) mitmproxy 完全启动并开始运行。此时，mitmproxy 已经绑定了端口，所有的 addon 都被加载了。

	def update(self, flows: typing.Sequence[mitmproxy.flow.Flow]):
	(Called when) 一个或多个 flow 对象被修改了，通常是来自一个不同的 addon。
	
	
	
Content-Type 有几种内容：
	text/plain; charset=UTF-8	
	text/html;charset=utf-8
	138
	image/jpeg	
	image/gif
	application/xml
	application/x-protobuf

传输数据的格式：	
{
type:
id:
data:{

	}
}

Exception: Invalid input of type: 'NoneType'. Convert to a bytes, string, int or float first.
	
Exception: Invalid input of type: 'NoneType'. Convert to a bytes, string, int or float first.





select count(*) from wechat_account  #	9
select count(*) from wechat_article_task  #		25245
select count(1) from wechat_article  #	169
select count(*) from wechat_article_comment  # 2013
select count(*) from wechat_article_dynamic  #   154
select count(*) from wechat_article_list  #  25246
select count(*) from wechat_article_task  #  25245	



D:\ProgramData\Anaconda3;
D:\ProgramData\Anaconda3\Library\mingw-w64\bin;
D:\ProgramData\Anaconda3\Library\usr\bin;D:\ProgramData\Anaconda3\Library\bin;
D:\ProgramData\Anaconda3\Scripts;
C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;C:\windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\dotnet\;D:\Program Files\Git\cmd;C:\Program Files\Microsoft SQL Server\130\Tools\Binn\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files\Docker\Docker\resources\bin;C:\ProgramData\DockerDesktop\version-bin;%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin;
	
哦吼吼 https://gsp0.baidu.com/5aAHeD3nKhI2p27j8IqW0jdnxx1xbK/tb/editor/images/client/image_emoticon25.png


select count(*) from wechat_account  #	9
select count(*) from wechat_article_task  #		25245 25253
select count(1) from wechat_article  #	169 172	186 203
select count(*) from wechat_article_comment  # 2013 2805 4357
select count(*) from wechat_article_dynamic  #   154	165 181
select count(*) from wechat_article_list  #  25246		25254
select count(*) from wechat_article_task  #  25245 25253

CREATE TABLE IF NOT EXISTS `wechat_article` (
      `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
      `account` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
      `title` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
      `url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
      `author` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
      `publish_time` datetime DEFAULT NULL,
      `__biz` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
      `digest` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
      `cover` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
      `pics_url` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
      `content_html` longtext COLLATE utf8mb4_unicode_ci,
      `source_url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
      `comment_id` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
      `sn` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
      `spider_time` datetime DEFAULT NULL,
      PRIMARY KEY (`id`),
      UNIQUE KEY `sn` (`sn`),
      KEY `__biz` (`__biz`)
    ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci ROW_FORMAT=DYNAMIC
    
longtext,


CREATE TABLE `wechat_article_dynamic` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT 'id号',
  `sn` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '文章序列号',
  `read_num` int(11) DEFAULT NULL COMMENT '阅读数',
  `like_num` int(11) DEFAULT NULL COMMENT '点赞数',
  `comment_count` int(11) DEFAULT NULL COMMENT '评论数',
  `spider_time` datetime DEFAULT NULL COMMENT '记录爬取时间',
  `__biz` varchar(50) CHARACTER SET utf8mb4 DEFAULT NULL COMMENT '微信公众号标识',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `sn` (`sn`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=536 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci ROW_FORMAT=DYNAMIC;

activate myspider_py37 &&pyinstaller -F hello.py

https://www.jianshu.com/p/4b07a5649e4b





微博爬虫：
通过链接找user_id
https://weibo.cn/u/1669879400?f=search_0


=======20200517





如果你想写入数据库，除了在write_mode添加对应数据库的名字外，还应该安装相关数据库和对应python模块，具体操作见[设置数据库](#4设置数据库可选)部分。<br>

改之前
{
    "user_id_list": ["6001136519"],
    "filter": 1,
    "since_date": "2018-01-01",
    "write_mode": ["csv"],
    "original_pic_download": 1,
    "retweet_pic_download": 0,
    "original_video_download": 1,
    "retweet_video_download": 0,
    "cookie": "your cookie",
    "mysql_config": {
        "host": "localhost",
        "port": 3306,
        "user": "root",
        "password": "123456",
        "charset": "utf8mb4"
    }
}





表：
g_ch_key	标识符
m_publish_time	发布时间
m_update_time		更新时间
m_is_pt_generated	发布时间改写标志位
m_gather_time	获取时间
m_insert_time	入库时间

u_g_ch_key	用户标识


图片url
视频url






发布地区？？？？
站点行业分类
覆盖用户？




今日头条开源项目:
https://github.com/zjfGit/python3-scrapy-spider-phantomjs-selenium	

https://github.com/striver-ing/headlines_today

https://github.com/LeoLin9527/TouTiaoNews

https://github.com/fangbicheng/crawlnews_Python

https://github.com/fangbicheng/crawlnews_Python/blob/master/get_toutiao_news.py

https://github.com/jfzhang95/news_spider

https://github.com/haibincoder/ToutiaoCrawler

https://github.com/librauee/Reptile

https://github.com/LZhengyu/spider 已失效



今日头条问题：
问题：
1.ModuleNotFoundError: No module named 'execjs'
pip install PyExecJS  -i https://pypi.douban.com/simple







C:  ???
ka:  ???,
k1,
k2,
k3,
k4, 
k5,
kb,
λ1,
λ2,
R：指定时间区间所有发布内容的阅读数总和, 
TR: 头条流量（指定时间区间所有发布的头条文章的阅读数总和）,
Q1：指定时间区间所有发布内容中原创文章数,
n：指定时间区间发布文章总数,Q2,
L: 指定时间区间所有发布内容的好看数总和（是指被点赞的文章？）,
Lmax,
Lavg,
t

知网：
18689654806
Daniel,.1

全国图书馆
Daniel_1x
13337677032a






=======20200519
1.打包好wechat项目，在另一台机子上跑起来（已实现）
2.大佬的今日头条项目基本能跑起来






参考链接：https://stackoverflow.com/questions/47850064/add-config-file-outside-pyinstaller-onefile-exe-into-dist-directory?newreg=897aadc37dd74b7288fc003d832b3ce8
尝试1：
pyi-makespec --onefile --windowed --name exefilename scriptname.py

pyinstaller --clean exefilename.spec




pyinstaller --clean  exefilename.spec

结果可以生成一个打包程序和一个配置文件的结果，但是运行不了

尝试2：
将程序弄成分开的，查看详细日志
通过查看build中的。txt打包日志后，发现了少了一些包后，重新执行一下可执行文件后，发现程序已经在运行中，只是没有在控制台上显示日志，
改进：让其在控制台上显示执行日志

尝试3：
目的：让其在控制台上显示执行日志
pyinstaller --clean -c exefilename.spec  #不行！

尝试4：
将.spec文件中

exe = EXE(pyz,
          a.scripts,
          a.binaries,
          a.zipfiles,
          a.datas,
          [],
          name='exefilename',
          debug=False,
          bootloader_ignore_signals=False,
          strip=False,
          upx=True,
          upx_exclude=[],
          runtime_tmpdir=None,
          console=True )    #改为True就可以了.
		  
		  
		  
		  
===============20200520
1.搞好数据结构体 （暂时已解决）

2.今日头条的爬虫开发
指定账号		关键词搜索








全网爬虫？
协作式爬虫？？？
token和cookie 的区别？
容器Flat 网络？？    集群支持集成flat网络；？？？   flat网络？？？

具备基于TLS的双向安全认证机制；
SDN网络






#取出文章信息
SELECT
	a.`title`,
CASE
	WHEN a.`author` IS NULL THEN
	a.account else then  a.author, #有点问题
	a.`publish_time`,
	a.`account`,
	a.`content_html`,
	a.`url`,
	a.`__biz`,
	a.`digest`,
	a.`cover`,
	a.`pics_url`,
	a.`source_url`,
	a.`comment_id`,
	a.`sn`,
	a.`spider_time`,
	a.`id`,
	b.`read_num`,
	b.`like_num`,
	b.`comment_count` 
FROM
	`wechat_article` a,
	`wechat_article_dynamic` b 
WHERE
	a.`sn` = b.`sn` 
	LIMIT 5;                  #
	


SSL / TLS加密连接到Redis Labs实例 ？？什么事SSL /TLS?



=====================================20200521
# 微信多开的方法
参考链接：
https://www.zhihu.com/question/41110715



2.今日头条的爬虫开发（干他）
指定账号		关键词搜索

Xposed
参考链接：https://blog.csdn.net/coder_pig/article/details/80031285





192.168.5.160
192.168.5.1

http://a6.pstatp.com/article/cont





redis总结：
有空继续学习：
参考链接:pipeline
https://blog.csdn.net/w1lgy/article/details/84455579
https://www.runoob.com/redis/redis-transactions.html

https://www.runoob.com/python3/python-mongodb.html




select UNIX_TIMESTAMP( CURRENT_TIMESTAMP ) #1590046995 #mysql UNIX_TIMESTAMP 返回1970年到现在的秒数

像YouTube那样的视频网站如何存储那么多的数据？
https://www.zhihu.com/question/26798249




以后开发爬虫要考虑的问题：
1.存储数据表之间的关联
2.抓取的数据要尽可能满足最TM详尽的业务需求















===今日



https://v3-tt.ixigua.com/65b56c405ee63abb3105029d8c71ed56/5ec68b56/video/m/220d77569e2c637407180e5410d89a8a1b61145b7e0000263f2262888e/?a=1768&br=4236&bt=1412&cr=0&cs=0&dr=0&ds=3&er=0&l=202005212100380100290550660B0C105B&lr=default&qs=0&rc=Ozg0Zzw7O2Y8OWQzOzk0aEApOWg4O2g3ZDw5N2c7ZWdlZWcyLzNgLS40NjMxLmItLmJec2A2LmFjNF4zMy1fLTEwL186Yw%3D%3D&vl=&vr=



https://v3-tt.ixigua.com/0a757bf6906dc5cb8fd8e6059de292d0/5ec68c3b/video/m/220d77569e2c637407180e5410d89a8a1b61145b7e0000263f2262888e/?a=1768&br=4236&bt=1412&cr=0&cs=0&dr=0&ds=3&er=0&l=202005212104270100150420131D11D4F7&lr=default&qs=0&rc=Ozg0Zzw7O2Y8OWQzOzk0aEApOWg4O2g3ZDw5N2c7ZWdlZWcyLzNgLS40NjMxLmItLmJec2A2LmFjNF4zMy1fLTEwL186Yw%3D%3D&vl=&vr



自己抓包的链接：
http://a6.pstatp.com/article/content/24/1/6828846814687396364/6828846814687396364/1/0/0/?iid=2717633564639783&device_id=4054639091917063&ac=wifi&mac_address=04%3AED%3A33%3AE3%3A3D%3AC0&channel=xiaomi&aid=13&app_name=news_article&version_code=773&version_name=7.7.3&device_platform=android&ab_version=668779%2C662099%2C1706992%2C668774%2C1667687%2C660830%2C1680294%2C1662745%2C662176%2C1656556%2C1419034%2C668775%2C1679949%2C1529254%2C1190524%2C1157750%2C1157634%2C1413879%2C1419598%2C1629530%2C1711413%2C1469498%2C1484966%2C1576656%2C1675172%2C1715210%2C1593455&ab_feature=102749%2C94563&ssmix=a&device_type=OPPO+R11+Plus&device_brand=OPPO&language=zh&os_api=22&os_version=5.1.1&uuid=866174832276113&openudid=7a18a0e47e4fd7c1&manifest_version_code=7730&resolution=900*1600&dpi=320&update_version_code=77315&_rticket=1590031632794&tma_jssdk_version=1.64.0.1&pos=5r_-9Onkv6e_eDk6eA0ReCUfv7G_8fLz-vTp6Pn4v6esrK6zqKqtr6Wrqa6pqqyvqbG_8fzp9Ono-fi_p6mts62tr6-pr6ilqKWprKmlq7G__PD87d706eS_p794OTp4DRF4JR-_sb_88Pzt0fLz-vTp6Pn4v6esrK6zqKqtr6Wrqa6pqqyvqbG__PD87dH86fTp6Pn4v6eprbOtra-vqa-opailqayppavg&rom_version=coloros__r11+plus-user+5.1.1+nmf26x+500200513+release-keys&plugin=0&host_abi=armeabi-v7a&cdid=7e57694d-f761-46cd-b2f8-112d5e947da0



项目里的链接
http://is.snssdk.com/api/news/feed/v47/?category=video&refer=1&count=20&min_behot_time=1478077174&last_refresh_sub_entrance_interval=1478077371&loc_mode=6&loc_time=1478076298&latitude=39.90511&longitude=116.355647&city=%E5%8C%97%E4%BA%AC%E5%B8%82&tt_from=pull&lac=4124&cid=43070&cp=53841b92aebbbq1&iid=6060889792&device_id=33418245041&ac=wifi&channel=xiaomi&aid=13&app_name=news_article&version_code=584&version_name=5.8.4&device_platform=android&ab_version=87590%2C86575%2C83095%2C86231%2C86001%2C79287%2C87752%2C87331%2C85046%2C86854%2C88106%2C87982%2C88088%2C87881%2C82679%2C87838%2C88067%2C87804%2C87828%2C87030%2C87498%2C87035%2C86724%2C87988&ab_client=a1%2Cc4%2Ce1%2Cf2%2Cg2%2Cf7&ab_feature=z1&abflag=3&ssmix=a&device_type=MI+2A&device_brand=Xiaomi&language=zh&os_api=16&os_version=4.1.1&uuid=860954025518090&openudid=60fcf5fe7e721c17&manifest_version_code=584&resolution=720*1280&dpi=320&update_version_code=5844&_rticket=1478077371937



待解决的错误：
fake_useragent.errors.FakeUserAgentError: Maximum amount of retries reached  （虽然报了错，但是还是返回了200的状态码）
git 回退到半个小时前的状态

问题：如何在迭代字典的过程中删除其中的某些item(Python)
解答：{key:my_dict[key] for key in my_dict if key !="deleted" }

1.如何自己训练词嵌入向量列表？？ （从data中的读取，转换为npGlove向量，维护一个自己的词嵌入列表（或者文件glove.6B.50d.txt））





#秒变格式化时间
time.strftime('%Y-%m-%d %H:%M:%S', time.localtime(time.time()))
'2020-05-22 04:11:04'





分两个表来存储数据，后面再根据sql关联数据


正则表达式：
regex = 'var nickname = \"(.*?)\"\.html'   # modify by yr 20200513
account = tools.get_info(data, regex, fetch_one=True).strip()

可用正则套路：
1.去掉 文字后面的\t 后面的数字
	\d.*
2.去掉以数字开头的行
^\d.*

3. 唯一匹配某个单词（eg：father ，注意末尾有个空格。思路：通过前后单词匹配中间的单词）
^father 

4.提取数字
([+-]?\d+(\.\d+)?)


eg：匹配出url中的后面的id
https://www.toutiao.com/a6826870036582367757/   #a6826870036582367757
re.findall(r'com\/(.*?)\/', content)




全站爬取头条的新闻数据
爬取今日头条遇到的问题：
1.入库 阻塞。


# 2.全站爬取一次今日头条。
3.学习ip代理池
4.



daniel_2x
13337677032a


Info.plist 苹果系统的文件

python log函数默认以e为底
math.log(math.e)
1.0






git rm -r --cached .
git config core.autocrlf false
git add .
git commit -m ''
 
git push

git remote add origin git@github.com:Guanyu1/wechat_spider

git remote set-url origin https://github.com/Guanyu1/wechat_spider

git remote add origin https://github.com/Guanyu1/wechat_spider





目标，将本地任意的项目同步到github上
git remote set-url origin https://github.com/Guanyu1/wechat_spider



#这个方法好像有效
…or push an existing repository from the command line
git remote add origin https://github.com/Guanyu1/wechat_spider.git
git push -u origin master




git remote add origin https://github.com/Guanyu1/test_20200522.git


* git 分割线

实战1：
将任意一个项目文件上传到新建的github仓库中
#################参考代码
git init
#git rm -r --cached .
git config core.autocrlf false
git add .
git commit -m ''

# git remote set-url origin https://github.com/Guanyu1/test_20200522.git
git remote add origin https://github.com/Guanyu1/doc_of_dev.git
git push -u origin master
#################参考代码

########实战代码
在github上建好仓库后，执行以下命令：
git init
git config core.autocrlf false		#CRLF：Carriage Return Line Feed 回车换行键		core.autocrlf是git中负责处理line ending的变量，可以设置3个值：true，false，inout
git add .						#将代码增加到本地仓库
git commit -m 'first commit'  #增加备注
git remote add origin https://github.com/Guanyu1/test_20200522.git
git push -u origin master		#推送代码到远程core.autocrlf是git中负责处理line ending的变量，可以设置3个值：true，false，inout


##快捷操作：
git init;git config core.autocrlf false;git add .;git commit -m 'first commit';git remote add origin https://github.com/Guanyu1/test_202005222310.git;git push -u origin master;
########实战代码






实战2：
本地回退代码到某个时刻的版本
########实战代码
#1.git log （或者git log -100 显示git提交日志，选择日志编号后，执行下面步骤2的命令）
#选择某次提交的版本进行回退
git reset --hard 387a017501e9efd70a4471a7bf6984d77327abb8



实战3
提交自己的代码到自己的项目中项目代码中
git push


实战4
提交自己的代码到别人的项目中项目代码中
拉去请求

git init;git config core.autocrlf false;git add .;git commit -m 'first commit';git remote add origin https://github.com/Guanyu1/test_202005222310.git;git push -u origin master;

* git 分割线

current_directory = os.path.dirname(os.path.abspath(__file__))

current_directory = os.path.dirname(os.path.abspath(__file__))

current_directory = os.path.dirname(os.path.abspath(__file__))




current_directory = os.path.dirname(os.path.abspath(__file__)



以舆情监测系统为例共包括四个基本模块
信息采集系统
分析引擎系统
预警报告系统
舆情服务系统



监测范围编辑
一套全面、完善的舆情监测系统，需要能够做到对各种不同类型媒体的覆盖监测，以全媒体舆情监测服务系统为例，系统能够覆盖：
　　（1） 电视：近100家电视频道新闻，包括中央电视台、卫视台、北京电视台、凤凰卫视台、地方电视台等；
　　（2） 报刊：1000多家报刊，包括中央级报刊、省级报刊、市级报刊、外媒报刊；
　　（3） 网站：1万多家网站，包括门户网站、新闻网站、政府网站、行业网站等；
　　（4） 论坛：近1000家论坛，包括全国和地方的论坛贴吧；
　　（5） 微博：新浪、腾讯等全国和地方的主要微博；
　　（6） 博客：所有主流博客。
（7） 微信：所有微信公众号。
（8） 视频直播：所有的视频直播；
（9） 广播电台：全国各地区各广播电台新闻；



# git 错误
1.错误        合并不了！
背景：同一个文件，不同分支，切换分支时，合并不了


=============20200525

社戒网址，打不开
http://172.16.26.64:5601/app/kibana#/dev_tools/console


总结：每次沟通完之后，总结一下谈话内容。
晨会要求：
1.项目经理指示：指标体系（分析各个指标）
2.将爬取到的数据都推送到kafka上



林丰
说的分类算法：https://blog.csdn.net/songguangfan/article/details/92581643
XWIKI的网址：
http://172.16.26.39:8080/xwiki/bin/view/%E8%88%86%E6%83%85/
zxd前端框架：
https://www.antdv.com/docs/vue/introduce-cn/



广州市吸毒人员社会化管控项目

社戒社康：社区戒毒社区康复中心 （社区戒毒，社会康复）

多巴胺

“亲密激素”催乳素

柯立芝效应

mysql中的常用函数
函数：https://www.cnblogs.com/Gxiaobai/p/12237454.html
intval



MySQLdb  pymysql 的区别

657784988@qq.com
Daniel_1x
13337677032a



================20200526
同时在办公越来越移动化的今天，为社区戒毒、社区康复工作建设移动APP，大大降低禁毒管控人员工作时间和工作量，解放人力。

====4.1.1 吸毒人员管理
吸毒人员戒毒管理包括：吸毒人员的基本信息管理、吸毒人员日常戒毒信息管理、尿检管理、举报告发管理、吸毒人员列表等。

人员信息基本信息包括：人员姓名、照片、人员编号、身份证号码、性别、年龄、别名/绰号、民族、出生日期、身高、文化程度、婚姻状况、籍贯、国籍、户籍地、户籍地详址、户籍地派出所、居住地、居住地详址、居住地派出所、工作单位、吸毒人员来源、职业、联系电话、亲属姓名、亲属联系电话、收入情况描述、家庭主要成员和社会关系、初次吸毒时间、既往戒毒次数、吸毒方式、毒品类型（多选）、身体疾病（多选）、备注描述。



万宁市社区禁毒社区康复购买服务项目
根据的法律：
《中华人民共和国政府采购法》
《中华人民共和国合同法》



VPN 隧道
隧道协议：
1.IPSec的ESP
2.L2TP则不对分组加密，保持原样地进行封装
NAS
参考的资料类型：网络信息安全与技术


5W2H沟通法
（1）WHAT——是什么？目的是什么？做什么工作？
（2）WHY——为什么要做？可不可以不做？有没有替代方案？
（3）WHO——谁？由谁来做？
（4）WHEN——何时？什么时间做？什么时机最适宜？
（5）WHERE——何处？在哪里做？
（6）HOW ——怎么做？如何提高效率？如何实施？方法是什么？
（7）HOW MUCH——多少？做到什么程度？数量如何？质量水平如何？费用产出如何？


四:初级数据分析学习书单及网站
Python基础：《利用Python进行数据分析》
SQL：《SQL必知必会》以及MySQL的官方教程
统计基础：《深入浅出统计学》、《商务与经济统计（第12版）》
电子行业业务知识：《数据化管理：洞悉零售及电子商务运营》
分析理论和Excel：《谁说菜鸟不会数据分析》
机器学习：《统计学方法》（李航）
爬虫：崔庆才个人网站

第三种： 就是数据挖掘职位了，这个就需要掌握的技能比较多了，EXCEL，SQL，概率统计，Python或者R语言，数据挖掘、机器学习 Hadoop,Spark Java,python,c++ 推荐系统、自然语言处理等。编程语言，还有熟练掌握机器学习的算法（这个一定要自己推导几遍），这个工资就不用说了，15000+。


ETL、BI

#不错的博客：
博主：数据蛙datafrog（实质是培训机构，看看就得了）
https://www.jianshu.com/p/79cdda55596e
https://www.jianshu.com/p/76afb7193fa5

博主遇到的问题：
1:tensorflow构建一个神经网络的步骤；问题2：试用scikit-learn实现一个简单的线性回归模型(这个记不太清了)，全都是诸如此类的问题。所以说，如果提早的询问下，就会减少不必要的麻烦，可以多面试几家相符的公司。

但如果能够掌握一门编程语言Python或者R的，就应该去找有专门的数据分析团队的公司。



亿图：
https://www.edrawsoft.cn/thankyou-install/mindmaster-baidu

统计学入门课程：
http://open.163.com/newview/movie/courseintro?newurl=%2Fspecial%2Fopencourse%2Fstatistics.html


kaggle






指标分析：
1.分层信息（戒毒人员，专干，领导）
	1-1.详单信息

2.汇总信息




# 而指标体系化，则是将零散的数据串联起来，让你通过单点看到全局，通过全局解决单点的问题。

蔡奕欣：
1.原型你们是怎么画的呀？
2.


要多练！

//div//a
//div//a

$x('//p')
$x('//p')
$x('//a/text()')
$x('//a/text()')

$x('//a[@href]')
$x('//a[@href]')

$x('//a[@href]') #包含href的a 标签


>>> response.xpath('//a[@href="http://www.baidu.com/more/"]/text()').extract()
[]


//*[@id="s-top-left"]/div/a





康复率， 康复人数， 



不一样

# Axure RP 8 是一款专业的快速原型设计工具。



租户？？？



用户资料表



关联家属关系
关联家属姓名
关联家属实际居住地
关联家属工作单位
关联家属电话


成员姓名
成员性别
成员年龄
成员工作单位及职务或者身份
成员联系方式
小组成员分工及工作计划
小组成员变动情况
登记时间



https://blog.csdn.net/u010710458/article/details/77917732
wireshark


tcpdump




Winpcap

ren %windir%\System32\AppLocker\Plugin*.* *.bak
	
=====

kibana是什么
Atxserver2

Atx-agent 多设备管理

Uiautomator2移动端自动化抓取框架
Weditor控件可视化工具
Uiselector 5种定位方式定位app控件

Kibana数据可视化组件


======20200529
从

只有UEFI(Unified Extensible Firmware Interface统一可扩展固件接口)+GPT windows 10

BIOS+MBR	linux  （在同一分区的根目录）




熟悉公开数据集 （加分）

床帐试题！！！！


####发送短信的python功能模块

https://blog.csdn.net/zyc121561/article/details/78169168
# 使用Twilio的免费手机号发送短信

# 你需要在官网上申请一个账号，这里是官网：https://www.twilio.com/
def send_sms(msg='你好，这是来自你自己的手机测试信息！', 		my_number):
    # 从官网获得以下信息
    account_sid = '****'
    auth_token = '****'
    twilio_number = '****'

    client = Client(account_sid, auth_token)
    try:
        client.messages.create(to=my_number, from_=twilio_number, body=msg)
        print('短信已经发送！')
    except ConnectionError as e:
        print('发送失败，请检查你的账号是否有效或网络是否良好！')
        return e
####发送短信的python功能模块


# 书籍：
1量子计算机 穿越未来世界

https://etm1b54lnv.feishu.cn/docs/doccn5m8rJ4xrJ4PKWQspgIHUEf

scp D:/Daniel/资料/test.txt root@192.168.0.103:~/

=====20200531
###看完床帐的教程
###搞指标体系化

###搞爬虫

#腾讯算法


14194***53@qq.com,5,7,10,12,13,16,17

markdown 敲出数学公式

好好学习天天向上




社戒社康涉及到的人员分类
1.禁毒专管员
2.社戒社康人员







根据工作小组登记表表单内容填写


工作小组人员信息
工作小人员组成包含戒毒人员的家庭成员
工作村（居）民委员会成员
社区民警
社区医务人员
社区戒毒社区康复专职工作人员
戒毒康复人员所在单位代表
禁毒志愿者




根据用户所属区域
显示管辖范围内所有到期待检测的社戒社康人员信息
检测时间
对接派出所人员


访谈时间
访谈地点
访谈人
访谈结果
家访、谈话记录
检测检测人
检测结果



人 的维度



群体



2个事情
1.  218

2.群体（社戒社康、专干人员）


（价格依据琼价营字［1999］344号）
依据国家计委计价格〔2002〕10号文计列


大佬，您上次说的那个很吊的架构的逆向微信的爬虫系统，可以在linux系统上运行嘛




我的需求：
1.验证码登陆网页
2.短信登陆网页

3.开发一套（爬虫框架）
1.需求：
能快速适配大部分常见网页结构
能快速适配mysql数据库，mogodb数据库，hdfs数据库








Charles
https://juejin.im/entry/5a45acd56fb9a0452725e8c1
## 有代理转发功能。




戒毒：
完整的医学戒毒治疗包括生理脱毒、心理脱瘾、康复治疗、回归社会等四个环节。




人员信息登记时对接民政部门数据，对接内容包含：
低保证人员信息
低保证金额信息
低保证家庭信息
低保对象基本信息视图
困供养人员系统视图



人员信息登记时对接人设部门数据，对接内容包含：
个人参保关系
社保个人基本信息
城乡养老参保信息
城乡养老个人基本信息
城镇居民个人基本信息
城镇居民个人参保信息
就业登记证信息表
失业登记信息
个人职业培训补贴明细信息
技能鉴定补贴申请信息
促进就业奖励补贴吸纳就业困难人员信息
就业失业登记证发放信息
招聘职位信息
个人简历信息
就业登记证信息表

主题

易破解YIPOJIE.CN
MM6B-JEN9-CJ63-XVZB-VG6B



专干、社戒社康人员的详细维度、指标。然后汇总。
最终目的，数据分层，结构清晰，分析全面

人员信息登记时对接民政部门数据，对接内容包含：
低保证人员信息
低保证金额信息
低保证家庭信息
低保对象基本信息视图
困供养人员系统视图



人员信息登记时对接人设部门数据，对接内容包含：
个人参保关系
社保个人基本信息
城乡养老参保信息
城乡养老个人基本信息
城镇居民个人基本信息
城镇居民个人参保信息
就业登记证信息表
失业登记信息
个人职业培训补贴明细信息
技能鉴定补贴申请信息
促进就业奖励补贴吸纳就业困难人员信息
就业失业登记证发放信息
招聘职位信息
个人简历信息
就业登记证信息表
基础属性	姓名、性别、籍贯、民族













基础属性
姓名
性别
籍贯
民族


时间属性
	生日
	年龄
	生肖
	星座


身体属性
	身高
	体重
	血型
	病例史
	视力


证件属性
	身份证
	护照
	驾驶证
	港澳通行证




地域属性
	居住地详址


通信属性
	手机号码
	电话号码


婚姻属性
	婚姻状况


文化属性
	文化程度


政治属性
	政治面貌


工作属性
	从业状况


健康属性
	健康状况
	
	
	
研究生、大学本科（简称：大学）、大学专科和专科学校、中等专业学校（简称：中专）或中等技术学校（简称：中技）、技工学校、高中，初中，小学，文盲或半文盲



https://zhuanlan.zhihu.com/p/34481868


指标汇总分析

*求和

*进度达成情况指标：用以描述任务或者目标的完成情况。（* 康复率）

计算方法：当前值或累计值/目标值*100%

*同环比增长率
同环比增长率：用以描述长周期高汇总指标的变化情况，一般情况下同比是跨年进行比较，环比是跨月进行比较。

同比计算方法：（当期值-去年同期值）/去年同期值*100%

环比计算方法：（当期值-上期值）/上期值*100%

第一次复吸距离








按照性别
按照年龄
按照身高
按照体重
按照视力
按照驾驶证类型
按照血型
按照婚姻状态
病例史
地区
按照文化程度
按照政治面貌
按照信仰
职业类别
健康属性













按照性别同比
按照性别环比
按照籍贯同比
按照籍贯环比
按照年龄同比
按照年龄环比
按照星座同比
按照星座环比
按照身高同比
按照身高环比
按照体重同比
按照体重环比
按照血型同比
按照血型环比
病例史同比
病例史环比
按照视力同比
按照视力环比
按照驾驶证类型同比
按照驾驶证类型环比
居住地区同比
居住地区环比
通信地址同比
通信地址环比
按照婚姻状态同比
按照婚姻状态环比
按照文化程度同比
按照文化程度环比
按照政治面貌同比
按照政治面貌环比
按照信仰同比
按照信仰环比
职业类别同比
职业类别环比
健康属性同比
健康属性环比
按照手机常用app同比
按照手机常用app环比
禁毒流程熟悉程度同比
禁毒流程熟悉程度环比
工作APP熟练使用程度同比
工作APP熟练使用程度环比
戒毒人员管理水平程度同比
戒毒人员管理水平程度
访谈技巧水平程度同比
访谈技巧水平程度环比
家访经验水平程度同比
家访经验水平程度环比



查获时间
查获单位
案件类别
查处结果

拘留所
强戒所
社区康复





按照性别统计人数
按照籍贯统计人数
按照民族统计人数
按照年龄统计人数
按照星座统计人数
按照身高统计人数
按照体重统计人数
按照血型统计人数
病例史统计人数
按照视力统计人数
按照驾驶证类型统计人数
居住地区统计人数
通信地址统计人数
按照婚姻状态统计人数
按照文化程度统计人数
按照政治面貌统计人数
按照信仰统计人数
职业类别统计人数
健康属性统计人数
按照手机常用app统计人数
按照低保统计人数
按照参保人员统计人数
按照信用征信统计人数
按照个人资产统计人数
按照消费观念统计人数

所以，不建议一开始给投资人预留股份，可以进来以后大家共同稀释。
所以我们建议大家拿限制性股权

第二种：任职满2年兑现50%，三年兑现75%，四年100%。这是为了预防短期投机行为，小米的员工股权激励就是按照这种模式的；

回购



# 接着还是细化（按重要度、合理性），另外把口径补充完整


按照重要度、合理性  将指标排个序

# 腾讯算法群聊天记录
kaggle m5的数据集我用过2080
lgb
这个比赛还行 ，让我知道了tione的服务器不靠谱，排了雷
搞了一个din，跑了一晚上也没结束   #din是啥玩意？？？
kfold相比于单模型有多少提升，有大佬解答一下么
我是在训练w2c model的时候
embedding的时候
话说推进系统的NN里一般用啥激活函数
nlp都是DL	
acc
搞了个product_category和industry，word2vec才0.7几


160~165
166~170
176~180
181~185
186~190
191~200


针量级（46公斤级）	－	46kg	－	101磅6盎司9打兰
轻蝇量级（48公斤级）	46kg	48kg	101磅6盎司9打兰	105磅13盎司2打兰
蝇量级（50公斤级）	48kg	50kg	105磅13盎司2打兰	110磅3盎司11打兰
轻雏量级（52公斤级）	50kg	52kg	110磅3盎司11打兰	114磅10盎司3打兰
雏量级（54公斤级）	52kg	54kg	114磅10盎司3打兰	119磅12打兰
羽量级（57公斤级）	54kg	57kg	119磅12打兰	125磅10盎司9打兰
轻量级（60公斤级）	57kg	60kg	125磅10盎司9打兰	132磅4盎司7打兰
轻次中量级（63公斤级）	60kg	63kg	132磅4盎司7打兰	138磅14盎司4打兰
次中量级（66公斤级）	63kg	66kg	138磅14盎司4打兰	145磅8盎司1打兰
轻中量级（70公斤级）	66kg	70kg	145磅8盎司1打兰	154磅5盎司2打兰
中量级（75公斤级）	70kg	75kg	154磅5盎司2打兰	165磅5盎司8打兰
轻重量级（80公斤级）	75kg	80kg	165磅5盎司8打兰	176磅5盎司14打兰
重量级（86公斤级）	80kg	86kg	176磅5盎司14打兰	189磅9盎司8打兰

46kg~48kg

A型
B型
AB型
O型



重大疾病保险的范围
恶性肿瘤
急性心肌梗塞
脑中风后遗症
重大器官移植术或造血干细胞移植术
冠状动脉搭桥术（或称冠状动脉旁路移植术）
终末期肾病（或称慢性肾功能衰竭尿毒症期）
多个肢体缺失
急性或亚急性重症肝炎
良性脑肿瘤
慢性肝功能衰竭失代偿期
脑炎后遗症或脑膜炎后遗症
深度昏迷
双耳失聪
双目失明
瘫痪
心脏瓣膜手术
严重阿尔茨海默病
严重脑损伤
严重帕金森病
严重Ⅲ度烧伤
严重原发性肺动脉高压
严重运动神经元病
语言能力丧失
重型再生障碍性贫血
主动脉手术
严重的多发性硬化
严重的1型糖尿病
侵蚀性葡萄胎（或称恶性葡萄胎
系统性红斑狼疮并发重度的肾功能损害
严重的原发性心肌病
肢体机能完全丧失
语言能力或咀嚼吞咽能力完全丧失
意外伤害
感染艾滋病病毒或患艾滋病
遗传性疾病
先天性畸形、变形或染色体异常


4.0	4.1	4.2	4.3	4.4	4.5	4.6	4.7	4.8	4.9	5.0	5.1	5.2	5.3
4.0~4.1
4.2~4.3
4.4~4.5
4.6~4.7
4.8~4.9
5.0~5.1
5.2~5.3

美沙酮bai,阿片酊,右丙氧芬


戒毒需要的药品：
1 阿片受体激动剂或拮抗剂，包bai括（1）弱激动剂：美沙酮du,阿片酊,右丙氧芬。（2）部分激动即：环唑星,丁丙诺非.。（3）拮抗剂：纳洛酮,纳曲酮。

2 非阿片受体激动剂或拮抗剂，包括（1）与神经递质有关的药物：可乐宁,心得安,异博定,拟胆碱药等. （2）与免疫活性物质有关的药物：干扰素,环胞多肽,放射菌素-D等. （3）激素：促甲状腺释放激素,促肾上腺素皮质激素等. （4）中枢抑制药：氯丙嗪,氯氮平,氟哌啶醇,安定,氯硝西泮,冬眠合剂,溴化物等. （5）莨菪类：东莨菪碱,山莨菪碱,颠茄等.。

3 中药，包括（1）含替代物如：阿zhi片,罂粟壳,火麻仁等.因易产生依赖性,目前临床上只能在戒毒所使用,无法用于家庭自愿戒毒. （2）不含替代物的纯中药复方制剂.代表药物有香藤胶囊，AA胶囊,复康片,安君宁等.此类药物可用于家庭自愿戒毒,无依赖性,安全可靠,是戒毒药物今后的希望和发展方向.尤其是AA胶囊目前已在国内全面推广。





















思路：
1.继续完善口径
	是否疾病等指标
	
2.继续细化维度
3.将指标按重要度、合理性排个序

（谷歌，百度）如何提升搜索结果的质量


MarkDown添加图片的三种方式
https://www.jianshu.com/p/280c6a6f2594

* 错误
Git Push Fails - fatal: The remote end hung up unexpectedly
*解决办法
git config --global http.postBuffer 157286400  （没用）

* 错误 
error: failed to push some refs to 'https://github.com/Guanyu1/doc_of_dev.git'
解决方法：
git push origin master -f






ssh-keygen -t rsa -C 657784988@qq.com


D/Daniel/work/code/documentation/.ssh/id_rsa

#去掉github 上频繁输入账号密码
https://blog.csdn.net/chfe007/article/details/43388041


健康
亚健康
不健康



### 写出所有的维度！！！
问题：社戒社康问题（疑问）
卫生和街道待的地方还是监狱吗

吸毒人员退出机制只有就业后，才能恢复真正的人身自由吗


方法论AARRR（也叫海盗指标法），整体的拆分逻辑是「获取→活跃→留存→营收→传播」

也是团队的考核度量（OKR或KPI）。



自愿戒毒

对自愿戒毒人员采取脱毒治疗、心理康复、行为矫治等多种治疗措施

社区戒毒的期限为3年，自报到之日起计算。

第三章  社区戒毒
第二十七条  强制隔离戒毒的期限为2年，自作出强制隔离戒毒决定之日起计算。

被强制隔离戒毒的人员在公安机关的强制隔离戒毒场所执行强制隔离戒毒3个月至6个月后，转至司法行政部门的强制隔离戒毒场所继续执行强制隔离戒毒。

社区康复在当事人户籍所在地或者现居住地乡（镇）人民政府、城市街道办事处执行，经当事人同意，也可以在戒毒康复场所中执行。

自愿戒毒人员、社区戒毒、社区康复的人员可以自愿与戒毒康复场所签订协议，到戒毒康复场所戒毒康复、生活和劳动。



# 禁毒相关法律
https://www.mps.gov.cn/n2255079/n4242954/n4500645/n4500649/c4504281/content.html#/

http://www.hainan.gov.cn/hainan/dfxfgs/201812/859b296735b9491699024f5ac7a99c64.shtml?from=singlemessage


强制隔离戒毒（2年） {公安强戒（3~6个月（不得超过12个月））司法强戒}
社区康复（3年）




第一步：去掉多余的同环比
第二步：完善口径

戒毒医疗机构、戒毒康复场所、强制隔离戒毒场所

戒毒人员在强制隔离戒毒期间的伙食费用和生理脱毒所需医疗费用，由各级人民政府承担。








AAA级	bai综合得分9以上，客户的收入水平很高，偿du债意愿很强，社zhi会地位很高，家庭环境非常优越，一般可获得dao万元额度的贷款。
AA级	综合得分在8分至89分，客户的收入水平高，偿债意愿强，社会地位高，家庭环境非常优越，一般可获得万的贷款授信额度。A级。测评得分在7至79分之间，客户的收入水平高，偿债意愿较强，社会地位较高，家庭环境比较优越，一般可获得万元贷款的授信额度。

BBB级	得分在至9分之间，客户的收入水平中等，有偿债意愿，有一定社会地位，家庭环境良好，一般可获得万元贷款授信额度。

BB级	得分在至9之间，客户的收入水平一般，有一定偿债意愿，社会地位一般，你家庭环境一般，一般只能获得元授信额度。

B级	得分在9分以下，客户的收入水平较低，偿债意愿不强，社会地位较低，家庭环境较差，一般只能获得元授信额度。

如：节俭消费观：X人，奢靡消费观：Y人，适度消费观：Z人






http://59.212.148.13:8081/drugs/login.html
admin/1qaz@wsx





1	海口	
2	三亚
3	琼海
4	澄迈
5	陵水
6	万宁
7	乐东
8	文昌
9	儋州
10	临高
11	东方
12	定安
13	屯昌
14	琼中
15	昌江
16	保亭
17	五指山
18	白沙



="信用征信同比的计算。参考"&H1
="信用征信环比的计算。参考"&H2
="个人资产同比的计算。参考"&H1
="个人资产环比的计算。参考"&H2
="消费观念同比的计算。参考"&H1
="消费观念环比的计算。参考"&H2


="低保同比的计算。参考"&H1




="滥用毒品的方式同比的计算。参考"&H1
="滥用毒品的方式环比的计算。参考"&H2
="吸食毒品的种类同比的计算。参考"&H1
="吸食毒品的种类环比的计算。参考"&H2


="按照查获时间段同比的计算。参考"&H1
="按照查获时间段环比的计算。参考"&H2
="按照查获地区同比的计算。参考"&H1
="按照查获地区环比的计算。参考"&H2
="按照案件类别同比的计算。参考"&H1
="按照案件类别环比的计算。参考"&H2





="拘留所同比的计算。参考"&H1
="拘留所环比的计算。参考"&H2
="强戒所同比的计算。参考"&H1
="强戒所环比的计算。参考"&H2
="社区康复同比的计算。参考"&H1
="社区康复环比的计算。参考"&H2
="按照进所分时间段统计尿液检测结果同比的计算。参考"&H1
="按照进所分时间段统计尿液检测结果环比的计算。参考"&H2
="按照服药种类同比的计算。参考"&H1
="按照服药种类环比的计算。参考"&H2
="戒毒人员的操守期同比的计算。参考"&H1
="戒毒人员的操守期环比的计算。参考"&H2



="按照违规原因数量同比的计算。参考"&H1
="按照违规原因数量环比的计算。参考"&H2
="按劝告诫书的数量同比的计算。参考"&H1
="按劝告诫书的数量环比的计算。参考"&H2
="按违反协议同比的计算。参考"&H1
="按违反协议环比的计算。参考"&H2
="按中止社戒社康同比的计算。参考"&H1
="按中止社戒社康环比的计算。参考"&H2
="按继续社戒社康同比的计算。参考"&H1
="按继续社戒社康环比的计算。参考"&H2
="按终止社戒社康同比的计算。参考"&H1
="按终止社戒社康环比的计算。参考"&H2
="按变更地同比的计算。参考"&H1
="按变更地环比的计算。参考"&H2
="按康复人数同比的计算。参考"&H1
="按康复人数环比的计算。参考"&H2
="按就业人数同比的计算。参考"&H1
="按就业人数环比的计算。参考"&H2


按照人员编号统计所有专干总人数
根据人员性别，对专干人员分类相加进行统计，如男：X人，女：Y人
根据人员籍贯，分类相加进行统计，如海南省儋州市：X人，海南海口市：Y人
根据表《民族》，按各个民族类别统计专干人员的人数。如：汉族：X人，壮族：Y人等等
根据年龄段，分类相加进行统计，如10~15岁：X人，15~20岁：Y人
根据表《星座》，按各个星座类别统计专干人员的人数。如：白羊座：X人，处女座：Y人等等
根据表《身高》，按各个身高类别统计社专干的人数。如：160~165：X人，166~170：Y人等等
根据表《体重表》，按各个体重类别统计专干的人数。如：≤46kg：X人，46kg~48kg：Y人等等
根据表《血型表》，按各个血型类别统计专干的人数。如：A型：X人，B型：Y人等等
根据表《疾病表》，按各个疾病类别统计专干的人数。如：恶性肿瘤：X人，急性心肌梗塞：Y人等等

根据表《驾照表》，按各个驾照类别统计专干人员的人数。如：C1：X人，C2：Y人等等
按照户口所在地区细化到市县，分别统计人数。如：有专干人员的居住地址为：海南省海口市秀英区职业教育中心(长新路东)，则海南省海口市统计人数加1。
按照其实际居住地址细化到市县，分别统计人数。如：有专干人员的居住地址为：海南省海口市秀英区职业教育中心(长新路东)，则海南省海口市统计人数加1。
根据婚姻状态，对专干人员分类相加进行统计，如已婚：X人，未婚：Y人
根据表《学历》，按各个学历类别统计专干人员的人数。如：小学：X人，初中：Y人等等
根据政治面貌（群众，团员，党员），按各个政治面貌类别统计专干人员的人数。如：群众：X人，团员：Y人，党员：Z人等等
根据信仰（基督教,伊斯兰教,佛教,无），按各个信仰类别统计专干人员的人数。如：基督教：X人，伊斯兰教：Y人等等
根据表《职业类别》，按各个职业类别统计专干人员的人数。如：一类：X人，二类：Y人等等
根据健康属性程度类别，统计专干人员的人数。如：健康：X人，亚健康：Y人，不健康：Z人等等
根据对接的数据，分类统计常用app的使用人数。




="按《身高表》分段统计身高同比。参考"&H1



="按《身高表》分段统计专干身高同比。参考"&H1
="按《身高表》分段统计专干身高环比。参考"&H2
按照体重同比
按照体重环比
禁毒流程熟悉程度同比
禁毒流程熟悉程度环比
工作APP熟练使用程度同比
工作APP熟练使用程度环比
戒毒人员管理水平程度同比
戒毒人员管理水平程度
访谈技巧水平程度同比
访谈技巧水平程度环比
家访经验水平程度同比
家访经验水平程度环比




按《身高表》分段统计身高同比。参考F47单元格
按《身高表》分段统计身高环比。参考F48单元格
按《体重表》分段统计身高同比。参考F47单元格
按《体重表》分段统计身高环比。参考F48单元格
低保同比的计算。参考F47单元格
低保环比的计算。参考F48单元格
参保人员同比的计算。参考F47单元格
参保人员同比的计算。参考F48单元格
信用征信同比的计算。参考F47单元格
信用征信环比的计算。参考F48单元格
个人资产同比的计算。参考F47单元格
个人资产环比的计算。参考F48单元格
消费观念同比的计算。参考F47单元格
消费观念环比的计算。参考F48单元格

# 可以发力的点
机器人问答
知识图谱


====财务知识（有空研究一下）
期权？
财务模型与估值

# 个人博客开源项目
https://github.com/yunkong1993/djangoBlog

https://github.com/javastudyer/Gblog

#博客引入广告
http://blog.sina.com.cn/s/blog_76fe18f40100pzht.html

> 基于 django 和 Vue 的个人博客。
https://github.com/zmrenwu/django-blog-project

> 仿崔庆才博客 （关注一下）
https://stormsha.com/
（https://github.com/stormsha/blog）



也可以使用 github page 
https://www.jianshu.com/p/e68fba58f75c


# 20200606
要做的事：
1.维度在合理的分一下（如app的使用等等）
2.增加一下复杂（复合）维度的分析 （每一个维度想细了，给他整出指标）

展示建议：柱状图，饼图，二维坐标轴趋势图，gis数量展示


3.数据分析整理到EXCEL

4.名称 网址url/app名称（下一阶段） （参考艾瑞 https://news.iresearch.cn/ 来弄）

MIGNCHENG wangzhi/app

名称 网址url/app名称


1、Efficient Estimation of Word Representation in Vector Space, 2013

2、Distributed Representations of Sentences and Documents, 2014

3、Enriching Word Vectors with Subword Information, 2016



数据（资讯网）统计排行网站：
艾瑞数据

优质问答网站
http://cpmarkchang.logdown.com/




=======
友情链接: |　千龙网·中国首都网 |　东方网 |　北方网 |　华龙网 |　南方网 |　长城网 |　风度男人 |　东北网 |　东北新闻网 |　浙江在线

|　黄河新闻网 |　大河网 |　荆楚网 |　中国新闻网 |　中国江西网 |　中国江苏网 |　今日头条 |　四川新闻网 |　青海新闻网 |　西部网 |　南海网 |　财经新闻网

|　云南网 |　usdt Exchange Trading |　广西新闻网 |　长江网 |　深圳新闻网 |　中国宁波网 |　青岛新闻网 |　山西新闻网 |　中国山东网



新闻类数据

论坛贴吧数据
博客类数据
搜索引擎类数据

# java社区
> IM 社区
http://www.blogjava.net/jb2011/archive/2020/05/21/435452.html


Google AdSense（可接入广告）


源运wu

#很酷的一个拍照姿势
https://www.dgtle.com/article-1581588-1.html

# C++ 学习资源 
https://github.com/jobbole/awesome-cpp-cn



www.mysvw.com - 旅色网www.lvse.com › 中国 › 中国汽车
Translate thi

进BIOS设置，找到Power on boot beep选项，设置为Disabled


http://192.168.5.1/html/pub/redirect.html


vpn

张华平、刘群等 NLP 领域专家的论文几乎都被他翻了个遍，被一些深奥概念绕的云里雾里那自是家常便饭。

对何晗影响最大的是吕震宇开源的 C#版的 ICTCLAS 分词系统，他边学 C#边对照着吕震宇的博文研读这才搞懂了 ICTCLAS 分词原理。

Ansj 的数据结构——双数组字典树速度之快对他来说像打开了新世界的大门。

主要的研究方向是句法分析、语义分析与问答系统。

针对这种类型的任务，BiAffine 是比较前沿的做法。
不过，何晗认为，英文句法分析基本摸到了天花板，中文句法分析可能不是差在模型而是差在高质量大规模树库上。

但就学界的前沿动态而言，在模型结构的探索上 AutoML（自动设计神经网络），以及在知识工程上的自动构建知识图谱，都是未来可预见的发展趋势。


1.给ansj来个硬广
项目的github地址：https://github.com/NLPchina/ansj_seg
项目的文档地址：http://nlpchina.github.io/ansj_seg/


st_atime: 上次访问的时间。
st_mtime: 最后一次修改的时间。
st_ctime: 由操作系统报告的"ctime"。在某些系统上（如Unix）是最新的元数据更改的时间，在其它系统上（如Windows）是创建时间（详细信息参见平台的文档）。


Byte（字节）

1KB= 1024字节
1MB= 1024KB
1GB= 1024MB





人工智能研究网站：
http://mattmahoney.net/dc/


教育、就业、社保、医疗卫生、住房保障、文化体育及残疾人服务等基本公共服务领域


治保主任
村（居）党支部书记
村（居）委会治保主任

戒毒人员的尿检、心理咨询、就学就业、法律援助、技能培训、生活救助



# 相关单位
县委宣传部职责
县财政局职责
县人社局工作职责
县教育局职责
县工商局工作职责
县文旅商局工作职责
县卫计委工作职责
县税务局职责
公安分局、派出所工作职责
县司法局职责
团县委工作职责
县妇联工作职责


社会治理与公共服务平台的建设目标


=====
本文件涉及采购程序内容由滦州市政府采购中心负责解释。商务、技术、服务条款及合同内容由采购人负责解释。


^father 





时间，地域，自定义



按照身高
按照身高
按照体重
按照体重
按照低保
按照低保
按照参保人员
按照参保人员
按照信用征信
按照信用征信
按照个人资产
按照个人资产
按照消费观念
按照消费观念

['EMOJI_ALIAS_UNICODE',
 'EMOJI_UNICODE',
 'UNICODE_EMOJI',
 'UNICODE_EMOJI_ALIAS',
 '__author__',
 '__builtins__',
 '__cached__',
 '__doc__',
 '__email__',
 '__file__',
 '__license__',
 '__loader__',
 '__name__',
 '__package__',
 '__path__',
 '__source__',
 '__spec__',
 '__version__',
 'core',
 'demojize',
 'emoji_count',
 'emoji_lis',
 'emojize',    print(emoji.emojize('Python is :thumbsup:', use_aliases=True))
 'get_emoji_regexp',
 'unicode_codes']
 
 
 
Dialect



======20200615
搭建虚拟机平台，CDH 或者 HDP  跟云盘结合进行存储

1.xwiki
http://172.16.26.39:8080/xwiki/bin/view/XWiki/dahdirag


https://blog.csdn.net/Zhou_yongzhe/article/details/84936465





ae20fb70fdea        5 weeks ago         2.82GB
myimage90                   latest              8c7b6fdbb126        5 weeks ago         2.82GB
myimage80                   latest              c701841f8461        5 weeks ago         2.82GB
myimages70                  latest              e0c969150182        5 weeks ago         2.82GB
myimages60                  latest              22184ad53db4        6 weeks ago         2.41GB
<none>                      <none>              e93cd104f73e        6 weeks ago         944MB
tiangolo/uvicorn-gunicorn   python3.7           995f89c25760





docker rmi -f 8c7b6fdbb126 ;docker rmi -f c701841f8461
docker rmi -f e0c969150182 ;docker rmi -f 22184ad53db4 ;docker rmi -f e93cd104f73e ;docker rmi -f 995f89c2

关闭电脑开机时的蜂鸣声

sc config beep start= disabled


电脑ip：192.168.5.37



CDH02,
每个虚拟机修改或者生成下面4项
00:0C:29:D5:25:96
通过 uuidgen 生成uuid
09c81331-4ee5-4d4f-a2e1-386ab2963743
删除/etc/udev/rules.d/70-persistent-net.rules文件
vim /etc/sysconfig/network-scripts/ifcfg-ens33
rm -f /etc/udev/rules.d/70-persistent-ipoib.rules

修改主机名
hostnamectl set-hostname CDH05;



[root@11gnode2 ~]# vim /etc/sysconfig/network
NETWORKING=yes
HOSTNAME=cdh02

[root@11gnode2 ~]# cat /etc/hosts
127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4
::1 localhost localhost.localdomain localhost6 localhost6.localdomain6
172.16.28.59 CDH05

修改克隆出来虚拟机的  /etc/hosts

CDH03,
00:0C:29:68:31:3F

3ca6cb01-5bc1-4454-9df2-fdd616bc58c5

CDH04,
00:0C:29:A0:AD:5C

ea5deea4-9e2c-4fb3-b426-7ec9cb41d397

CDH05
00:0C:29:05:21:50

70f44266-604b-4ff8-be47-972108368d4d

1.该操作会生成新的MAC地址。
1. 生成随机uuid号

sudo yum -y install wget;sudo wget http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm;sudo rpm -ivh mysql-community-release-el7-5.noarch.rpm;sudo yum install mysql-server


grant all privileges on *.* to 'root'@'%' identified by '123456' with grant option;
GRANT ALL PRIVILEGES ON . TO ‘root’@’%’ IDENTIFIED BY ‘123456’ WITH GRANT OPTION;


例如，你想myuser使用mypassword从任何主机连接到mysql服务器的话。 

 

Sql代码 

  1. GRANT ALL PRIVILEGES ON *.* TO 'myuser'@'%' IDENTIFIED BY 'mypassword' WITH

mysql赋权操作：
GRANT ALL PRIVILEGES ON . TO ‘root’@’%’ IDENTIFIED BY ‘123456’ WITH GRANT OPTION;
flush privileges;
GRANT：赋权命令
ALL PRIVILEGES：当前用户的所有权限
ON：介词
*.*：当前用户对所有数据库和表的相应操作权限
TO：介词
‘root’@’%’：权限赋给root用户，所有ip都能连接
IDENTIFIED BY ‘123456’：连接时输入密码，密码为123456
WITH GRANT OPTION：允许级联赋权


======若泽数据
【若泽大数据】CDH5.16.1企业集群真正离线部署(全网最细，配套视频和文档安装包，生产可实践)
课程 https://www.bilibili.com/video/av52167219/?p=18


https://blog.csdn.net/JENREY/article/details/80802052?ops_request_misc=%7B%22request%5Fid%22%3A%22159227053319724846450115%22%2C%22scm%22%3A%2220140713.130102334..%22%7D


https://blog.csdn.net/qq_26838315/article/details/103868925

https://blog.csdn.net/u014034049/article/details/78439578


https://blog.csdn.net/yuhan61659/article/details/80590227


1.最新版cdh的教程
最新版CDH教程（含全套资料）

2. CDH5.16.1 （6系列只能可以扩展到100个节点
Mysql离线部署
CM离线部署
Parcel文件离线源部署



CDH 部署

bin 在线 网络带宽
rpm 离线部署
tar 真正离线部署



2核8g

节点初始化
hosts文件
防火墙
云：关闭+ web防火墙
内部防火墙：

关闭防火墙


selinux
地区和时钟
1
	timedatectl --help

	timedatectl list-timezones
	设置时区：
	timedatectl set-timezone Asia/Shanghai

2.安装时钟同步服务
yum install -y ntp
hadoop001 时间同步的主节点
hadoop002-hadoop003 时间同步的从节点

vim /etc/ntp.conf   #配置时间同步的配置文件
	#time 
	server 0.asia.pool.ntp.org
	server 1.asia.pool.ntp.org
	server 2.asia.pool.ntp.org
	server 3.asia.pool.ntp.org
	
	server 127.127.1.0iburst local clock
	restrict 127.19.7.0 mask 255.255.255.0 nomodify notrap
	
systemctl start ntpd
systemctl status ntpd

/usr/sbin/ntpdate hadoop001 (将其他机子的时间和hadoop001同步，此命令在其他机器运行)

crontab -e
00 00 * * * /usr/sbin/ntpdate hadoop001

/usr/java
解压之后的用户及用户组的修正

chown -R root:root /usr/java/jdk1.8.0_45

3	
jdk
scp /etc/profile hadoop003:/etc/


4mysql

https://github.com/Hackeruncle/MySQL


https://github.com/Hackeruncle/MySQL/blob/master/MySQL%205.7.11%20Install.txt

mysql 5.7.11 版本


cp /etc/skel/.* /usr/local/mysql #将bash等文件拷到mysqladmin下，使得中括号显示完全

su - mysqladmin


进入mysql后，修改一下密码
alter user root@localhost identified by 'ruozedata123';

授权

GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDNETIFIED BY 'ruozedata123';

'root'@'%'   '哪个用户'@'哪台机器'

5.事先创建db用户

cp mysql-connector-java-5.1.47.jar /usr/share/java/my

cmf
amon

能访问外网就rpm，不能就tar包


创建用户

useradd --system --home=/opt/cloudera-manager/cm-5.16.1/run/cloudera-scm-server/ --no-create-home --shell=/bin/false cloudera-scm

chown -R cloudera-scm:cloudera-scm /opt/cloudera-manager
所有节点创阿金大数据软件爱你安装
mkdir -p /opt/cloudera/parcel-repo

chown -R cloudera-scm:cloudera-scm /opt/cloudera

启动：
./cloudera-scm-server start


########
7180 端口
等待1分钟
########

106.15.234.222:7180/cmf/login
账号密码都是
admin/admin

有问题就去
/opt/cloudera-manager/cm-5.16.1/log/cloudera-scmserver/  查看日志


部署过程中加2条命令
echo never > /sys/kernel/mm/transparent_hugepage/defrag
echo never > /sys/kernel/mm/transparent_hugepage/enabled



错误1：
com.cloudera.cmf.db.type=mysql



https://www.bilibili.com/video/BV1YE41117xM/?p=2&t=38
【若泽大数据】CDH6.3.1企业集群真正离线部署(全网最细，配套视频和文档安装包，生产可实践)
网友评论：6.3.2开始收费了，赶脚优点蛋疼。
腾讯课堂有若泽数据的学习资源（
https://ke.qq.com/course/443055?tuin=9d96032c
https://ke.qq.com/course/302442?tuin=9d96032c
）


CM
Parcel
JDK
MySQL
MYSQL JDBC JARRUHE 

6点几的免费版本最后100台！！！！

Centos7.2

装完mysql后，需要创建CDH元数据库 用户 和amon的服务的库 用户



47.74.186.106


优质问题：
1.linux下 python的多版本控制如何实现？
2.selinux 的作用是什么？
3.追加一段文本到某个文件下
4.su - mysqladmin
和 su mysqladmin 的区别  
解答："-" 显示用户前面的目录

5.[root@cdh02 mysql]# chkconfig --list

注：该输出结果只显示 SysV 服务，并不包含
原生 systemd 服务。SysV 配置数据
可能被原生 systemd 配置覆盖。 

      要列出 systemd 服务，请执行 'systemctl list-unit-files'。
      查看在具体 target 启用的服务请执行
      'systemctl list-dependencies [target]'。

mysql          	0:关	1:关	2:开	3:开	4:开	5:开	6:关
netconsole     	0:关	1:关	2:关	3:关	4:关	5:关	6:关
network        	0:关	1:关	2:开	3:开	4:开	5:开	6:关


显示的内容是什么意思？？、


http://ruozedata.com/img/Spark+Flink2020V2.png

百度网盘提速的方法

亿寻
sn9.us/dir/21187055-36936965-148f9d

xdown.org
baiduyun.wiki

=====下载百度云中的资料的方法
1.win10搜索框，键入"懒人"
2.C:\Users\Administrator\Downloads\Compressed\v0.1.0113		亿寻下载



====xshell
rz 上传数据到linux上
sz 下载数据到本地物理机



=====有空看看 大数据竞赛项目实战
https://github.com/jiguang123/Big-Data-Competition-Project


====linux 技巧
1.将某一行中的某些文本替换掉
eg：
sed -i '7 s/enforcing/disabled/g' wu.config

sed -i '7 s/enforcing/disabled/g' /etc/selinux/config

问题：
1.时间同步问题，从主机需要sudo





create database cmf DEFAULT CHARACTER SET utf8;
create database amon DEFAULT CHARACTER SET utf8;
grant all on cmf.* TO 'cmf'@'%' IDENTIFIED BY '123456!';
grant all on amon.* TO 'amon'@'%' IDENTIFIED BY '123456!';
flush privileges;

mkdir -p /usr/share/java/;cp /home/hadoop/mysql-connector-java.jar /usr/share/java/

/opt/cloudera-manager/cm-5.16.1/etc/cloudera-scm-agent

sed -i "s/server_host=localhost/server_host=cdh02/g" /opt/cloudera-manager/cm-5.16.1/etc/cloudera-scm-agent/config.ini


vim /opt/cloudera-manager/cm-5.16.1/etc/cloudera-scm-server/db.properties

com.cloudera.cmf.db.type=mysql
com.cloudera.cmf.db.host=cdh02
com.cloudera.cmf.db.name=cmf
com.cloudera.cmf.db.user=cmf
com.cloudera.cmf.db.password=123456
com.cloudera.cmf.db.setupType=EXTERNAL


useradd --system --home=/opt/cloudera-manager/cm-5.16.1/run/cloudera-scm-server/ --no-create-home --shell=/bin/false --comment "Cloudera SCM User" cloudera-scm

这条命令的细节有些懵

useradd --system --home=/opt/cloudera-manager/cm-5.16.1/run/cloudera-scm-server/ --no-create-home --shell=/bin/false --comment "Cloudera SCM User" cloudera-scm

cp /home/hadoop/CDH-5.16.1-1.cdh5.16.1.p0.3-el7.parcel.sha1 /opt/cloudera/parcel-repo/CDH-5.16.1-1.cdh5.16.1.p0.3-el7.parcel.sha;cp /home/hadoop/manifest.json /opt/cloudera/parcel-repo/

chown -R cloudera-scm:cloudera-scm /opt/cloudera/

mkdir -p /opt/cloudera/parcels; chown -R cloudera-scm:cloudera-scm /opt/cloudera/

/opt/cloudera-manager/cm-5.16.1/etc/init.d/cloudera-scm-server start


https://www.lesouyun.com

#找出大于800M的文件
find / -type f -size +800M


bin/mysqld \
--defaults-file=/etc/my.cnf \
--user=mysqladmin \
--basedir=/usr/local/mysql/ \
--datadir=/usr/local/mysql/data/ \
--initializevim




https://www.cnblogs.com/kevingrace/p/5845634.html 






以太网适配器 以太网:

   连接特定的 DNS 后缀 . . . . . . . :
   本地链接 IPv6 地址. . . . . . . . : fe80::5971:7822:3302:87c2%16
   IPv4 地址 . . . . . . . . . . . . : 192.168.0.103
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   默认网关. . . . . . . . . . . . . : 192.168.0.1



192.168.0.103
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   默认网关. . . . . . . . . . . . . : 192.168.0.1



192.168.0.103




TYPE=Ethernet
BOOTPROTO="none"
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_FAILURE_FATAL=no
IPV6_ADDR_GEN_MODE=stable-privacy
NAME=ens33
UUID=f7b301b0-74ef-4a9f-a4ef-53766359460e
DEVICE=ens33
ONBOOT=yes
IPADDR=172.16.28.55
PREFIX=24
GATEWAY=172.16.28.254
DNS1=8.8.8.8
DNS2=114.114.114.114
IPV6_PEERDNS=yes
IPV6_PEERROUTES=yes


 

pv--vg --lv --挂载--格式化mkfs

总结：多个磁盘/分区/raid-》多个物理卷PV-》合成卷组VG-》从VG划出逻辑卷LV-》格式化LV挂载使用


xfs_growfs 挂载点


lvs
  LV   VG     Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  root centos -wi-ao---- 17.80g
  
  
  
  
  
lvextend -L +30m /dev/vg01/lv01


lvextend -L +30m /dev/vg01/lv01

lvextend -L +30m /dev/centos/root

lvextend -L +30m /dev/centos/root

lvextend -l +100%FREE /dev/centos/root
lvextend -l +100%FREE /dev/mapper/centos-root 扩展lv

           ( -x|--allocatable y|n,
             -u|--uuid,
             -a|--all,
                --addtag Tag,
                --deltag Tag,
                --metadataignore y|n )






[root@shoushou2 ~]# blkid
/dev/sda1: UUID="37d9190e-0f4e-4be1-91be-34393d42b678" TYPE="xfs" 
/dev/sda2: UUID="c0281a43-0a9f-43a6-b010-99bcac7a4522" TYPE="xfs" 
/dev/sda3: UUID="1d516d37-488e-4325-bad5-05c141ddf6e5" TYPE="swap" 
/dev/sdb1: UUID="9b54b9da-ace7-49ed-83d2-5642c76c4e2e" TYPE="ext4" 
/dev/sdb2: UUID="JTXgUb-UO6a-qG8d-SCL0-6pj3-1WLJ-6pGqTa" TYPE="LVM2_member" 
/dev/sr0: UUID="2018-11-25-23-54-16-00" LABEL="CentOS 7 x86_64" TYPE="iso9660" PTTYPE="dos" 
/dev/mapper/rootvg-swap: UUID="54f2bee1-ff5c-4c00-98c2-f2bae2e9757f" TYPE="swap" 
/dev/mapper/rootvg-root: UUID="16d3cf30-448d-413a-baad-674c7131da4e" TYPE="xfs"


--先隔离磁盘文件
D:\workstation\centos7_1\Centos_data01-000001.vmdk


[root@cdh02 ~]# pvdisplay /dev/sdb1
  WARNING: Device for PV n9SG0r-0pAz-Wxy5-a1cL-DiMf-pYyB-ecqhQc not found or rejected by a filter.
  Couldn't find device with uuid n9SG0r-0pAz-Wxy5-a1cL-DiMf-pYyB-ecqhQc.
  "/dev/sdb1" is a new physical volume of "<20.00 GiB"
  --- NEW Physical volume ---
  PV Name               /dev/sdb1
  VG Name               
  PV Size               <20.00 GiB
  Allocatable           NO
  PE Size               0   
  Total PE              0
  Free PE               0
  Allocated PE          0
  PV UUID               2E8Y60-9LlB-rZFS-fooM-3KUZ-1TsR-Ht2MXC
  
  
  
  
  oV2jsh-lekf-k5eM-WRcC-Vpz9-Euho-zJRCE1
  
  
参考下面的连接操作：  
https://blog.csdn.net/weixin_34239169/article/details/91506996  
  
  
在这3步操作之前，都要执行lsblk、fdisk、df -h、vgs和pvs命令，查看具体情况，看看是否有变化，以便保证扩容正确。


[root@cdh02 ~]# vgextend centos /dev/sdb1
  Volume group "centos" successfully extended
  
  
  lvextend -l +100%FREE /dev/mapper/centos-root
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
#顺序： 
pv -- vg --lv

df -h
fdisk -l
df -h
man df
df -Th
shutdown now

#实战1：删除某个pv
#pvscan 查看
vgreduce centos /dev/sdb1 
#pvscan 查看
#pvdisplay
pvremove /dev/sdb1
#查看是否删除成功
#pvs
#vgs

#实战2：增加好物理硬盘后，扩容到lvm中
#fdisk -l
fdisk /dev/sdb
#ll /dev/sdb*
pvcreate /dev/sdb1
#vgscan
#pvscan
#vgscan
vgextend centos /dev/sdb1
#查看
#vgscan
#pvscan
#vgscan
vgdisplay centos 
lvs

df -h
lvextend -l +100%FREE /dev/mapper/centos-root
df -h
lvs
lvdisplay
df -h
# resize2fs /dev/mapper/centos-root ext系统使用resize2fs 逻辑卷名称
xfs_growfs /	#xfs系统使用 xfs_growfs 挂载点
df -h

#过程中执行lsblk、fdisk、df -h、vgs和pvs命令，查看具体情况，看看是否有变化，以便保证扩容正确。









使用命令# service mysqld status或者# service mysql status 来查看mysql 的启动状态。




systemctl stop firewalld;systemctl disable firewalld;iptables -F


export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.181-7.b13.el7.x86_64/jre
export PATH=${JAVA_HOME}/bin:${PATH}



echo "export JAVA_HOME=/usr/java/jdk1.8.0_45" >> /etc/profile
echo "export PATH=${JAVA_HOME}/bin:${PATH}" >> /etc/profile






出错：
org.springframework.web.bind.MissingServletRequestParameterException: Required List parameter 'hosts[]' is not present

A server error has occurred. The full stack trace is not shown here due to security reasons. See Cloudera Manager Server log  for details.



cdh org.springframework.web.bind.MissingServletRequestParameterException: Required List parameter 'hosts[]' is not present





org.springframework.web.bind.MissingServletRequestParameterException: Required List parameter 'hosts[]' is not present







2020-06-19 15:00:21,225 INFO avro-servlet-hb-processor-0:com.cloudera.server.common.AgentAvroServlet: (11 skipped) AgentAvroServlet: heartbeat processing stats: average=9ms, min=3ms, max=91ms.
2020-06-19 15:01:21,257 INFO avro-servlet-hb-processor-0:com.cloudera.server.common.AgentAvroServlet: (11 skipped) AgentAvroServlet: heartbeat processing stats: average=8ms, min=3ms, max=91ms.
2020-06-19 15:02:21,303 INFO avro-servlet-hb-processor-0:com.cloudera.server.common.AgentAvroServlet: (11 skipped) AgentAvroServlet: heartbeat processing stats: average=8ms, min=3ms, max=91ms.
2020-06-19 15:03:21,361 INFO avro-servlet-hb-processor-0:com.cloudera.server.common.AgentAvroServlet: (11 skipped) AgentAvroServlet: heartbeat processing stats: average=7ms, min=3ms, max=91ms.
2020-06-19 15:03:46,411 INFO 257612672@scm-web-6:com.cloudera.server.web.cmf.AuthenticationSuccessEventListener: Authentication success for user: 'admin' from 172.16.28.133
2020-06-19 15:03:54,270 WARN 812059502@scm-web-9:com.cloudera.server.cmf.tsquery.TimeSeriesQueryService: Could not find a HOST_MONITORING nozzle from SCM.
com.cloudera.cmon.MgmtServiceLocatorException: Could not find a HOST_MONITORING nozzle from SCM.









写的不错的日志:
https://blog.csdn.net/muyingmiao/article/details/102739823



后面需要的操作：
[root@ ip-172-31-0-131 ~]# yum -y install mariadb
[root@ ip-172-31-0-131 ~]# yum -y install mariadb-server


#完全删除mysql
rpm -qa |grep -i mysql
yum remove mysql-community-server-5.6.48-2.el7.x86_64;
yum remove mysql-community-common-5.6.48-2.el7.x86_64;
yum remove mysql-community-libs-5.6.48-2.el7.x86_64;
yum remove mysql-community-release-el7-5.noarch;
yum remove mysql-community-client-5.6.48-2.el7.x86_64;


http://172.16.28.56:7180/cmf/express-wizard/wizard

http://172.16.28.56:7180/cmf/express-wizard/wizard#step=parcelInstallStep




hadoop fs -ls /   #hadoop 命令

Ambari

useradd --system --home=/opt/cloudera-manager/cm-5.16.1/run/cloudera-scm-server/ --no-create-home --shell=/bin/false --comment "Cloudera SCM User" cloudera-scm


lsof -i:7180



lslslslofls lsof lsfo lfos lslslsl ls lsof ls  lsof -i 


优质文章：
https://www.jianshu.com/p/08a859677e53


ntpd 总结不错的文章
https://blog.csdn.net/vic_qxz/article/details/80344855


172.16.28.58 CDH04
172.16.28.57 CDH03
172.16.28.56 CDH02


192.168.0.58 CDH04
192.168.0.57 CDH03
192.168.0.56 CDH02


http://192.168.0.56:7180/cmf/login

echo never > /sys/kernel/mm/transparent_hugepage/defrag
echo never > /sys/kernel/mm/transparent_hugepage/enabled


hadoop资源的文章
https://www.maiyewang.com/archives/18054



namenode 高可用，看不懂，靠
https://www.ibm.com/developerworks/cn/opensource/os-cn-hadoop-name-node/index.html


水电费水电费撒的发生的



待办事项：

# 1.详细了解 YARN ZOOKEEPER HDFS 的各个细节
# 2.实战
1.安装过程中，为namenode放在多台机器上，kill掉一个，看看另一个是否会拉起来。
1：在台式机上，搭好集群后，存入一个文件（电影），然后取出来。
2.为集群增加一个节点，


LVS





!   D:\Daniel\work\code\code_for_fun\hadoop-3.1.3-src.tar.gz: 无法创建 D:\Daniel\work\code\code_for_fun\hadoop-3.1.3-src\hadoop-3.1.3-src\hadoop-yarn-project\hadoop-yarn\hadoop-yarn-server\hadoop-yarn-server-timelineservice-hbase\hadoop-yarn-server-timelineservice-hbase-client\src\test\java\org\apache\hadoop\yarn\server\timelineservice\



GFS 经典论文翻译
https://www.jianshu.com/p/cf38defe406a


google天才架构师Jeff Dean

hadoop源码分析
https://yq.aliyun.com/articles/371406


/etc/yum.repos.d/CentOS-Base.repo #文件
[base]
name=CentOS-$releasever - Base
mirrorlist=http://mirrorlist.centos.org/?release=$releasever&arch=$basearch&repo=os&infra=$infra
#baseurl=http://mirror.centos.org/centos/$releasever/os/$basearch/
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7





hadoop项目结构
D:\Daniel\work\code\code_for_fun\hadoop\hadoop-3.2.1-src\hadoop-3.2.1-src\hadoop-hdfs-project\hadoop-hdfs\src\main


/opt/apache-maven

export MAVEN_HOME=/opt/apache-maven
export PATH=$PATH:$MAVEN_HOME/bin


[ERROR] Failed to execute goal on project hadoop-annotations: Could not resolve dependencies for project org.apache.hadoop:hadoop-annotations:jar:3.2.1: Could not find artifact jdk.tools:jdk.tools:jar:1.8 at specified path /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.181-7.b13.el7.x86_64/jre/../lib/tools.jar



Centos7 上原有的 java
[root@cdh02 hadoop-3.2.1-src]# rpm -qa|grep jdk
copy-jdk-configs-3.3-10.el7_5.noarch
java-1.8.0-openjdk-1.8.0.181-7.b13.el7.x86_64
java-1.8.0-openjdk-headless-1.8.0.181-7.b13.el7.x86_64

jdk的卸载与安装
https://blog.csdn.net/fuyuwei2015/article/details/73195936

查询
rpm -qa|grep jdk
yum -y remove copy-jdk-configs.noarch



export JAVA_HOME=/usr/local/java/jdk1.8.0_202
export JRE_HOME=${JAVA_HOME}/jre
export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib
export PATH=${JAVA_HOME}/bin:$PATH




# 今天下午的任务
1.编译好hadoop源码，然后看懂大部分源码





mvn clean package -Pdist,native -DskipTests -Dtar  -Drequire.snappy
mvn package -Pdist -DskipTests -Dtar -Dmaven.javadoc.skip=true


尝试2：
mvn clean package -Pdist,native -DskipTests -Dtar  -Drequire.snappy

尝试3：
mvn clean && mvn package -Pdist,native,docs -DskipTests -Dtar

错误2：
Failed to execute goal org.apache.hadoop:hadoop-maven-plugins:3.2.1:cmake-compile (cmake-compile) on project hadoop-common: CMake failed with error code 1


python 操作hdfs上的数据
https://blog.csdn.net/liao392781/article/details/90407601


master存储了三中类型的metadata：文件的名字空间和块的名字空间，从文件到块的映射，块的副本的位置。

makefile 的经典教程
https://blog.csdn.net/ruglcc/article/details/7814546/



[ERROR] Failed to execute goal org.apache.hadoop:hadoop-maven-plugins:3.2.1:cmake-compile (cmake-compile) on project hadoop-hdfs-native-client: CMake failed with error code 1 -> [Help 1]

Failed to execute goal org.codehaus.mojo:native-maven-plugin:1.0-alpha-8:javah (default) on project hadoop-common: Error running javah command: Error executing command line. Exit code:1 -> [Help 1]
————————————————
版权声明：本文为CSDN博主「coder_szc」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/qq_37475168/article/details/90746823


免费云主机
https://activity.huaweicloud.com/free_test/index.html?utm_source=google&utm_medium=se-union-op&utm_campaign=T2002070830151000630XRT05KO52P&utm_content=&utm_term=&utm_adplace=Adplace028578&gclid=Cj0KCQjw0Mb3BRCaARIsAPSNGpV6T8Eg6pX75T0KDXB8mG8upZtd8ShZkRb-UmxEB9CoB5zyCf4HmvsaAqYCEALw_wcB


docker-rpm.tar.gz



[docker-rpm]
name=docker-rpm
baseurl=file:///root/docker
rpm
enable=1
gpgcheck=0



安装docker的步骤
1.将docker-rpm.tar.gz文件上传到/root下，然后


2.编辑yum源

vim /etc/yum.repos.d/docker-rpm.repo

[docker-rpm]
name=docker-rpm
baseurl=file:///root/docker-rpm
enable=1
gpgcheck=0

3.进行安装
yum -y install docker

4.启动docker服务
systemctl start docker

5.查看docker 的版本
docker version

[root@cdh02 ~]# systemctl disable chronyd
Removed symlink /etc/systemd/system/multi-user.target.wants/chronyd.service.

systemctl restart mariadb.service 命令详解？？？？


简洁安装mysql的方式：
1.
https://blog.csdn.net/xiangxianghehe/article/details/77427077





====大数据平台_zxd:存数据+学习

CSD 是什么？







mysql> grant all privileges on *.* to 'user01'@'%' identified by 'newPass123';
Query OK, 0 rows affected (0.00 sec)


这句命令的意思：grant 表示授权，all privileges 表示所有权限，on . 表示所有库的所有表（当然可以指定某些库的某些表），to ‘user01’@’%’ 表示授权给用户名为user01,ip无限制的用户，by ‘newPass123’ 表示user01 的密码。


服务脚本示例！！！！！！！！！！！！！！！！！！！！！！！！！！！1
https://blog.csdn.net/wang123459/article/details/79063703


# 搭建xwiki的教程
https://blog.51cto.com/john88wang/1605787

	#开启 mysql 服务
	/usr/local/mysql/bin/mysqld_safe --defaults-file=/etc/my.cnf & #登陆
	mysql -uroot -p123456 #创建相应的数据库和用户
	drop database amon;
	drop database cmf;
	create database cmf DEFAULT CHARACTER SET utf8;
	create database amon DEFAULT CHARACTER SET utf8;
	grant all on cmf._ TO 'cmf'@'%' IDENTIFIED BY '123456';
	grant all on amon.\_ TO 'amon'@'%' IDENTIFIED BY '123456';
	flush privileges;
	
	
	
Cloudera CDH 、Hortonworks DHP和MapR比较	
http://www.xuetimes.com/archives/2361

大数据面试题：
https://mp.weixin.qq.com/s/A7EpcWlqEA8F-nh9NHhpcQ




#紧急待办事项：
爬虫爬取的数据，要及时进行传输写到kafka上，效率很慢



The history of Hadoop

Map→Shuffle→Reduce


relational database management system (RDBMS)

#简述大数据技术
https://zhuanlan.zhihu.com/p/55407837

#大数据 很实在的文章
https://www.zhihu.com/question/37627092

流式计算发展概述
https://zhuanlan.zhihu.com/p/51846010


研究丨大数据技术进展与发展趋势（程学旗、靳小龙、杨婧、徐君）
http://www.cbdio.com/BigData/2016-09/08/content_5244009.htm

#原始问题是，如何将hdfs中的视频文件进行播放
https://github.com/yeleaveszi/Play-Videos-In-HDFS

MS-PRMPGWGRMZVO


https://blog.csdn.net/WYpersist/article/details/79953718
使用hadoop fsck /user命令检查文件Block的完整性。


hadoop 高可用  比较好的解决方案：
https://blog.csdn.net/suibianshen2012/article/details/48246123
其中包含了QJM（Quorum Journal Manager）


hadoop 3个版本之间的比较
https://blog.csdn.net/qq_34696236/article/details/84308457




# kafka调整思路：
最终结果先不传输，进行写文件看看效率怎么样？

@风雨 这是极光推送官方地址
https://www.jiguang.cn/

这是技术文档：
https://docs.jiguang.cn/jpush/resources/







====#极光 


想成为技术大牛，我认为需要经过下述几个阶段，任何一门技术，不管是Android、iOS、前后端还是人工智能啥的，都可以归结为以下几点：

理论基础阶段

实践阶段

思考阶段

理论升华阶段
为了更快速的解决问题，在寻求帮助时，请提供下列信息：

你需要咨询的产品是 JPush，是否同时使用了极光其他的产品
你所调用的是什么 API，所传参数，完整的报错信息，出现异常的时间点
如果收不到消息，提供应用的 Appkey，消息的 Message ID，设备的 registration ID 信息
如果是 SDK 问题请提供对应的 SDK 版本和完整的日志记录，日志信息请使用 TXT 文件上传
出现异常的设备是 iOS 还是 Android，列出具体的机型和系统

# 开发内容
图中红色部分，是 JPush 与 App 开发者的接触点。手机客户端侧，App 需要集成 JPush SDK；服务器端部分，开发者调用 JPush REST API 来进行推送。




http://docs.jiguang.cn/jpush/client/Android/android_sdk/


# 服务端
特别提示：建议不要在客户端直接调用 Rest API。JPush 私密信息容易因此暴露给他人，得到 Appkey 和 MasterSecret 信息的人可能进行恶意的推送。

223287490

极光
18689654806@163.com
18689654806
13337677032aA



=====20200630

谈话内容：
写一个极光的服务端

#安卓遇到的问题
1.
Could not download tink-1.3.0-rc2.jar (com.google.crypto.tink:tink:1.3.0-rc2): No cached version available for offline mode

解答：






app
   build
      generated
      intermediates
      outputs
      tmp
   libs
   src
   androidTest
   main
      java
      res
         AndroidManifest.xml
   test
   .gitignore
   app.iml
   build.gradle
   proguard-rules.pro
   
   
   
   
   
Appkey
MasterSecret


# 中免商城

1.存储到数据库中的表结构（分类）
2.可能会遇到的问题

官网：
https://www.cdfgsanya.com/brands.html


PYTHONUNBUFFERED=1;DJANGO_SETTINGS_MODULE=mysite.settings




商品编码
C000569
厂商货号
L5449204
商品名称
兰蔻清滢柔肤水 400ml
品牌名称
LANCOME 兰蔻
品牌发源地
法国
规格
400ml
保质期
见外包装
适合肤质
任何肤质、尤其适用于干性缺水肤质






首页>护肤>产品类型>卸妆清洁/爽肤水>兰蔻清滢柔肤水 400ml



护肤	套装
	爽肤水
	洁面
	精华
	乳液
	面霜
	眼部护理
	防晒隔离
	面膜
	卸妆
	唇部护理
	手部护理
	晚霜
	磨砂角质
	精油

彩妆	粉底/遮瑕
	唇部彩妆
	眼部彩妆
	BB霜/CC霜
	粉饼
	散粉
	腮红
	妆前乳
	美甲
	套装
	彩妆组合
	彩妆工具
身体护理	身体清洁
	身体乳液
	身体修复
	磨砂角质
	纤体霜
	胸部护理
	脚部护理
	套装香膏
发部护理	套装
	洗发
	护发
男士护理	套装
	清洁
	面部滋养
	眼部护理
	唇部护理
	剃须护理
==========================================================
	
女士香水	淡香水EDT
	淡香精EDP
	香精Parfum
	古龙水EDC
	其它
	套装
男士香水	古龙水EDC
	淡香水EDT
	淡香精EDP
	套装
白兰地	干邑
	雅文邑
威士忌	苏格兰威士忌
	美国威士忌
	纯麦威士忌
	其他威士忌
餐酒	毡酒
	朗姆酒
	龙舌兰
	香槟
	汽酒
	开胃酒
	冰酒
	其他餐酒
葡萄酒	红葡萄酒
	白葡萄酒
	桃红葡萄酒
	其他葡萄酒
国产酒	白酒
	黄酒
	保健酒
个护健康	洗脸仪

F12 详细介绍
https://blog.csdn.net/weixin_42476601/article/details/83353152





离岛免税爬取思路
1.通过正则筛选出a标签，然后进一步爬取。




http://www.dce.com.cn/dalianshangpin/xqsj/tjsj26/rtj/rxq/index.html

是下载链接
http://www.dce.com.cn//publicweb/quotesdata/dayQuotesCh.html


http://www.dce.com.cn/publicweb/quotesdata/exportDayQuotesChData.html?dayQuotes.variety=m&dayQuotes.trade_type=1&year=2017&month=8&day=15&exportFlag=excel


http://www.dce.com.cn/publicweb/quotesdata/exportDayQuotesChData.html



课程
https://coding.imooc.com/lesson/92.html#mid=22868





Cookie: Hm_lvt_99acc7258c46631a07bd9df8e3b3747f=1593661868,1593672862,1593673028,1593674870; DISTRIBUTED_JSESSIONID=27C8AAE8DA074D1B8E55833EFFB47FA4; Hm_lpvt_99acc7258c46631a07bd9df8e3b3747f=1593678084





"GET /api/overseas/products/search?c=248170&hs=false&pn=1&ps=20&s=0 HTTP/1.1
"Host":"www.cdfgsanya.com",
"Connection": "keep-alive",
"apiVersion": "2.0",
"language": "zh-CN",
"User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.44 Safari/537.36",
"Accept": "application/json, text/plain, */*",
"subsiteId": "1",
"channel": "pc",
"Appkey": "850226",
"Referer": "http://www.cdfgsanya.com/product-list.html?c=248170",
"Accept-Encoding": "gzip, deflate",
"Accept-Language": "zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7,zh-TW;q=0.6",
"Cookie": "Hm_lvt_99acc7258c46631a07bd9df8e3b3747f=1593661868,1593672862,1593673028,1593674870; DISTRIBUTED_JSESSIONID=27C8AAE8DA074D1B8E55833EFFB47FA4; Hm_lpvt_99acc7258c46631a07bd9df8e3b3747f=1593678084"

# 请求的方式

scrapy.Request
requests.Request

# 选取元素的方法
#需求：选取上一个元素
https://segmentfault.com/q/1010000009663370
//div[@id="u"]/child::node()，先找到一个id属性为u的div，再找到这个div的所有孩子节点，后面跟[1]，就是这些孩子节点的第一个节点。

//ul[class="cm-pagination"]/child::node()

选择前N位的div标签
preceding-sibling::div[N]
选择后N位的div标签
following-sibling::div[N]


//*[@id="root"]/div/div[2]/div/div[4]/div/div[2]/div/ul/li[6]

//*[@class="cm-pagination-next"]


====
优质链接： https://blog.csdn.net/huilan_same/article/details/52541680
print driver.find_element_by_xpath("//div[@id='D']/preceding-sibling::div[1]").text

("//div[@id='D']/preceding-sibling::div[1]")
("//li[@class="cm-pagination-next"]/preceding-sibling::li[1]")

https://www.cnblogs.com/sy_test/p/12201868.html


cm-pagination-prev
//*[@class="cm-pagination-prev cm-pagination-prev-disabled"][last()]
例子：//book[last()]
//*[@class="cm-pagination-next"][prev()]


3.last()：   //div[contains(@id, 'in')][las()]，表示选择id中包含有'in'的div节点的最后一个节点

//*li[@class="cm-pagination-next"]

//*/li

/bookstore/book[last()-1] ：表示选择bookstore的倒数第二个book子元素


# 思路：

# 分思路
通过后羿爬取商品列表


第一，根据整理好的csv链接，request商品类别列表数据



根据这个分类链接
"http://www.cdfgsanya.com/product-list.html?c=225510", "http://www.cdfgsanya.com/product-list.html?c=225509", "http://www.cdfgsanya.com/product-list.html?c=225511", "http://www.cdfgsanya.com/product-list.html?c=225512", "http://www.cdfgsanya.com/product-list.html?c=225513", "http://www.cdfgsanya.com/product-list.html?c=225514"





第二，有3点，
1.首先根据商品类别页面，确定页数
page_offset	page_num	c的值 page_c

2.确定refer
myrefer="http://www.cdfgsanya.com{}".format(url_list)
2.拼接出每一个商品的链接
示例：http://www.cdfgsanya.com/api/overseas/products/search?c=248170&hs=false&pn=1&ps=20&s=0
伪码： "http://www.cdfgsanya.com/api/overseas/products/search?c={}&hs=false&pn={}&ps=20&s=0".fotmat(page_c, page_offset)


3.根据商品链接，确定一下接口，存储必要的信息。
根据第二步的结果得到

productId
brandId
goodsId
warehouseId

示例页面: http://www.cdfgsanya.com/esteelauder-product.html?productId=400177&goodsId=400178&warehouseId=1&brandId=248152


# 分类编号接口
http://www.cdfgsanya.com/api/overseas/crumbs?productId=400177&goodsId=400178

> [{"id":151621,"name":"护肤"},{"id":151627,"name":"产品类型"},{"id":151634,"name":"眼部护理"}]

取到 key值 name 的伪码: list(a[0].keys())[1]


# 商品详情页接口
http://www.cdfgsanya.com/api/overseas/products/400177?warehouseId=1
{"id":400177,"name":"特润修护精华眼霜双支装","nameEN":"Estee Lauder ANR EYE GEL DUO","brand":{"id":248152,"initial":"YA","name":"雅诗兰黛","nameEN":"Estée Lauder","log":"https://pic.cdfgsanya.com/assets/upload/brandlogo/2016/10/12/20161012043210713.jpg","url":"","title":"","banner":"","country":{"name":"美国","nameEN":"USA","log":"https://pic.cdfgsanya.com/assets/upload/country/d215151a113ad0239f75233f73d83ecc.png"},"productCount":138,"description":"1946年，雅诗兰黛女士凭借四款产品与不可动摇的信念创立了雅诗兰黛公司。她深信：每位女性都能变得美丽动人。今天，60多年过去了，她的这一理念真正改变了美容行业的面貌。雅诗兰黛品牌已销售至全球超过150个国家与地区。从过去到现在，雅诗兰黛品牌持续提供创新的护肤产品、彩妆，以及一系列的经典香氛。护肤世家雅诗兰黛深知仅凭单一配方难以满足所有的肌肤需求，所以我们的专属美肤方案可轻易为不同年龄的女性带来全新的护肤体验。每日早晚选用针对性的修护和滋润产品，再搭配理想的粉底及彩妆打造美丽的肌肤。这就是雅诗兰黛品牌成功的秘诀！"},"pics":["https://pic.cdfgsanya.com/assets/upload/product/ac4e21507bac15cbcf610a1382c39ef9_500x500.jpg"],"description":"激活并放大眼周自我修护力，修护蓝光损伤","details":"<div style=\"background:#fff; color:#000;text-align:left;font-size:14px;font-family:Arial, Helvetica, sans-serif,\" microsoft=\"\"><!---- 商品展示 ----><div style=\"width:100%; height:40px; border-bottom:1px dashed #ddd; line-height:40px; margin:10px 0 0; font-size:14px;\"><span style=\"padding-left:10px; font-size:16px; font-weight:bold;\">商品展示<em style=\"color:#ccc; padding-left:10px;  font-style:normal;font-weight:normal\">COMMODITY DISPLAY</em></span></div><div style=\" line-height:20px; padding:10px;\">    一部分







